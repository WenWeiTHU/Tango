{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\Game/assets\\scripts\\Game\\Bullet.js"],"names":["cc","Class","extends","Component","properties","direction","speed","BulletBreakPrefab","type","Prefab","default","onLoad","director","getCollisionManager","enabled","start","directionX","x","mag","directionY","y","onCollisionEnter","other","self","blast","instantiate","node","parent","addChild","setPosition","animComponent","getComponent","Animation","play","destroy","update","dt"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,mBAAW,CADH;AAERC,eAAO,CAFC;AAGRC,2BAAmB;AACfC,kBAAKR,GAAGS,MADO;AAEfC,qBAAS;AAFM;AAHX,KAHP;;AAYL;;AAEAC,UAdK,oBAcK;AACNX,WAAGY,QAAH,CAAYC,mBAAZ,GAAkCC,OAAlC,GAA4C,IAA5C;AACH,KAhBI;AAkBLC,SAlBK,mBAkBI;AACL,YAAG,KAAKV,SAAL,KAAmB,CAAtB,EACI;AACJ,aAAKW,UAAL,GAAkB,KAAKX,SAAL,CAAeY,CAAf,GAAmB,KAAKZ,SAAL,CAAea,GAAf,EAArC;AACA,aAAKC,UAAL,GAAkB,KAAKd,SAAL,CAAee,CAAf,GAAmB,KAAKf,SAAL,CAAea,GAAf,EAArC;AACH,KAvBI;;;AAyBL;AACAG,oBA1BK,4BA0BaC,KA1Bb,EA0BoBC,IA1BpB,EA0B0B;AAC3B,YAAIC,QAAQxB,GAAGyB,WAAH,CAAe,KAAKlB,iBAApB,CAAZ;;AAEA,aAAKmB,IAAL,CAAUC,MAAV,CAAiBC,QAAjB,CAA0BJ,KAA1B;AACAA,cAAMK,WAAN,CAAkB,KAAKH,IAAL,CAAUT,CAA5B,EAA+B,KAAKS,IAAL,CAAUN,CAAzC;;AAEA,YAAIU,gBAAgBN,MAAMO,YAAN,CAAmB/B,GAAGgC,SAAtB,CAApB;AACAF,sBAAcG,IAAd,CAAmB,aAAnB;;AAEA,aAAKP,IAAL,CAAUQ,OAAV;AACH,KApCI;;;AAsCL;AACAC,UAvCK,kBAuCGC,EAvCH,EAuCO;AACR,aAAKV,IAAL,CAAUT,CAAV,IAAe,KAAKX,KAAL,GAAa,KAAKU,UAAlB,GAA+BoB,EAA9C;AACA,aAAKV,IAAL,CAAUN,CAAV,IAAe,KAAKd,KAAL,GAAa,KAAKa,UAAlB,GAA+BiB,EAA9C;AACH;AA1CI,CAAT","file":"Bullet.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\Game","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        direction: 0,\n        speed: 0,\n        BulletBreakPrefab: {\n            type:cc.Prefab,\n            default: null,\n        }\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        cc.director.getCollisionManager().enabled = true;\n    },\n\n    start () {\n        if(this.direction === 0)\n            return;\n        this.directionX = this.direction.x / this.direction.mag();\n        this.directionY = this.direction.y / this.direction.mag();\n    },\n    \n    // 直接消失\n    onCollisionEnter (other, self) {\n        var blast = cc.instantiate(this.BulletBreakPrefab)\n\n        this.node.parent.addChild(blast)\n        blast.setPosition(this.node.x, this.node.y)\n\n        var animComponent = blast.getComponent(cc.Animation)\n        animComponent.play('bulletBreak')\n     \n        this.node.destroy();\n    },\n\n    // 位置更新\n    update (dt) {\n        this.node.x += this.speed * this.directionX * dt;\n        this.node.y += this.speed * this.directionY * dt;\n    },\n});\n"]}