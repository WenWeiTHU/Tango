{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\Game/assets\\scripts\\Game\\Target.js"],"names":["cc","Class","extends","Component","properties","bonus","type","AudioSource","default","onLoad","director","getCollisionManager","enabled","start","onCollisionEnter","other","self","node","group","play","writeResult","loadScene","sceneName","getScene","name","data","sys","localStorage","setItem","JSON","stringify","temp","Number","slice","length","number","isNaN","String","update","dt","rotation"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAM;AACFC,kBAAMN,GAAGO,WADP;AAEFC,qBAAS;AAFP;AADE,KAHP;;AAUL;;AAEAC,UAZK,oBAYK;AACNT,WAAGU,QAAH,CAAYC,mBAAZ,GAAkCC,OAAlC,GAA4C,IAA5C;AACH,KAdI;AAgBLC,SAhBK,mBAgBI,CAER,CAlBI;AAmBLC,oBAnBK,4BAmBaC,KAnBb,EAmBoBC,IAnBpB,EAmB0B;AAC3B,YAAID,MAAME,IAAN,CAAWC,KAAX,IAAoB,QAAxB,EAAkC;AAC9B,iBAAKb,KAAL,CAAWc,IAAX;AACA;AACA,iBAAKC,WAAL;AACApB,eAAGU,QAAH,CAAYW,SAAZ,CAAsB,YAAtB;AACH;AACJ,KA1BI;AA4BLD,eA5BK,yBA4BU;AACX,YAAIE,YAAYtB,GAAGU,QAAH,CAAYa,QAAZ,GAAuBC,IAAvC;AACA,YAAIC,OAAO;AACP,qBAAUH,SADH;AAEP,mBAAQ;AAFD,SAAX;AAIAtB,WAAG0B,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4B,WAA5B,EAAyCC,KAAKC,SAAL,CAAeL,IAAf,CAAzC;AACA,YAAIM,OAAOC,OAAOV,UAAUW,KAAV,CAAgBX,UAAUY,MAAV,GAAmB,CAAnC,CAAP,CAAX;AACA,YAAIC,SAASC,MAAML,IAAN,IAAcC,OAAOV,UAAUA,UAAUY,MAAV,GAAmB,CAA7B,CAAP,IAA0C,CAAxD,GAA4DH,OAAO,CAAhF;AACAT,oBAAY,UAAUe,OAAOF,MAAP,CAAtB;AACAnC,WAAG0B,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4BN,SAA5B,EAAuC,IAAvC;AACH,KAvCI;AAwCLgB,UAxCK,kBAwCGC,EAxCH,EAwCO;AACR,aAAKtB,IAAL,CAAUuB,QAAV,IAAsB,CAAtB;AACH;AA1CI,CAAT","file":"Target.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\Game","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        bonus:{\n            type: cc.AudioSource,\n            default: null\n        }\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        cc.director.getCollisionManager().enabled = true\n    },\n\n    start () {\n\n    },\n    onCollisionEnter (other, self) {\n        if (other.node.group == \"Player\") {\n            this.bonus.play()\n            //TODO: 加载场景\n            this.writeResult()\n            cc.director.loadScene(\"Transition\")\n        }\n    },\n\n    writeResult () {\n        var sceneName = cc.director.getScene().name\n        var data = {\n            \"Stage\" : sceneName,\n            \"Win\" : true\n        }\n        cc.sys.localStorage.setItem('lastStage', JSON.stringify(data))\n        var temp = Number(sceneName.slice(sceneName.length - 2))\n        var number = isNaN(temp) ? Number(sceneName[sceneName.length - 1]) + 1 : temp + 1\n        sceneName = 'Stage' + String(number)\n        cc.sys.localStorage.setItem(sceneName, true)\n    },\n    update (dt) {\n        this.node.rotation += 1\n    },\n});\n"]}