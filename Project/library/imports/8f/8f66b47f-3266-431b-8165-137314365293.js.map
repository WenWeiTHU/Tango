{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\Game/assets\\scripts\\Game\\Bind.js"],"names":["cc","Class","extends","Component","properties","Player1","type","Node","default","Player2","onLoad","director","getCollisionManager","enabled","animComponent","getComponent","Animation","animState","play","wrapMode","WrapMode","Loop","start","dir","v2","x","y","r","Math","atan2","degree","PI","node","rotation","height","mag","update","dt","collider","_components","points"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,iBAAS;AACLC,kBAAMN,GAAGO,IADJ;AAELC,qBAAS;AAFJ,SADD;;AAMRC,iBAAS;AACLH,kBAAMN,GAAGO,IADJ;AAELC,qBAAS;AAFJ;AAND,KAHP;;AAeL;;AAEAE,UAjBK,oBAiBK;AACNV,WAAGW,QAAH,CAAYC,mBAAZ,GAAkCC,OAAlC,GAA4C,IAA5C;AACA,YAAIC,gBAAgB,KAAKC,YAAL,CAAkBf,GAAGgB,SAArB,CAApB;AACA,YAAIC,YAAYH,cAAcI,IAAd,CAAmB,WAAnB,CAAhB;AACAD,kBAAUE,QAAV,GAAqBnB,GAAGoB,QAAH,CAAYC,IAAjC;AACH,KAtBI;AAwBLC,SAxBK,mBAwBG;AACJ,aAAKC,GAAL,GAAWvB,GAAGwB,EAAH,CAAM,KAAKnB,OAAL,CAAaoB,CAAb,GAAiB,KAAKhB,OAAL,CAAagB,CAApC,EAAuC,KAAKpB,OAAL,CAAaqB,CAAb,GAAiB,KAAKjB,OAAL,CAAaiB,CAArE,CAAX;AACA,YAAIC,IAAIC,KAAKC,KAAL,CAAW,KAAKN,GAAL,CAASG,CAApB,EAAuB,KAAKH,GAAL,CAASE,CAAhC,CAAR;AACA,YAAIK,SAASH,IAAI,GAAJ,GAAWC,KAAKG,EAA7B;AACAD,iBAAS,MAAMA,MAAN,GAAe,EAAxB;AACA,aAAKE,IAAL,CAAUC,QAAV,GAAqBH,MAArB;;AAEA,aAAKE,IAAL,CAAUE,MAAV,GAAmB,KAAKX,GAAL,CAASY,GAAT,EAAnB;AACA,aAAKH,IAAL,CAAUP,CAAV,GAAc,KAAKhB,OAAL,CAAagB,CAA3B;AACA,aAAKO,IAAL,CAAUN,CAAV,GAAc,KAAKjB,OAAL,CAAaiB,CAA3B;AACH,KAlCI;AAqCLU,UArCK,kBAqCGC,EArCH,EAqCO;AACR,aAAKd,GAAL,GAAWvB,GAAGwB,EAAH,CAAM,KAAKnB,OAAL,CAAaoB,CAAb,GAAiB,KAAKhB,OAAL,CAAagB,CAApC,EAAuC,KAAKpB,OAAL,CAAaqB,CAAb,GAAiB,KAAKjB,OAAL,CAAaiB,CAArE,CAAX;AACA,YAAIC,IAAIC,KAAKC,KAAL,CAAW,KAAKN,GAAL,CAASG,CAApB,EAAuB,KAAKH,GAAL,CAASE,CAAhC,CAAR;AACA,YAAIK,SAASH,IAAI,GAAJ,GAAWC,KAAKG,EAA7B;AACAD,iBAAS,MAAMA,MAAN,GAAe,EAAxB;AACA,aAAKE,IAAL,CAAUC,QAAV,GAAqBH,MAArB;;AAEA,aAAKE,IAAL,CAAUE,MAAV,GAAmB,KAAKX,GAAL,CAASY,GAAT,EAAnB;AACA,YAAIG,WAAW,KAAKN,IAAL,CAAUO,WAAV,CAAsB,CAAtB,CAAf;AACAD,iBAASE,MAAT,CAAgB,CAAhB,EAAmBd,CAAnB,GAAuB,KAAKM,IAAL,CAAUE,MAAjC;AACAI,iBAASE,MAAT,CAAgB,CAAhB,EAAmBd,CAAnB,GAAuB,KAAKM,IAAL,CAAUE,MAAjC;;AAEA,aAAKF,IAAL,CAAUP,CAAV,GAAc,KAAKhB,OAAL,CAAagB,CAA3B;AACA,aAAKO,IAAL,CAAUN,CAAV,GAAc,KAAKjB,OAAL,CAAaiB,CAA3B;AACH;AAnDI,CAAT","file":"Bind.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\Game","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        Player1: {\r\n            type: cc.Node,\r\n            default: null\r\n        },\r\n\r\n        Player2: {\r\n            type: cc.Node,\r\n            default: null\r\n        },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        cc.director.getCollisionManager().enabled = true\r\n        var animComponent = this.getComponent(cc.Animation)\r\n        var animState = animComponent.play('bindAnim2')\r\n        animState.wrapMode = cc.WrapMode.Loop\r\n    },\r\n\r\n    start() {\r\n        this.dir = cc.v2(this.Player1.x - this.Player2.x, this.Player1.y - this.Player2.y)\r\n        var r = Math.atan2(this.dir.y, this.dir.x);\r\n        var degree = r * 180 / (Math.PI);\r\n        degree = 360 - degree + 90;\r\n        this.node.rotation = degree;\r\n\r\n        this.node.height = this.dir.mag()\r\n        this.node.x = this.Player2.x\r\n        this.node.y = this.Player2.y\r\n    },\r\n\r\n\r\n    update (dt) {\r\n        this.dir = cc.v2(this.Player1.x - this.Player2.x, this.Player1.y - this.Player2.y)\r\n        var r = Math.atan2(this.dir.y, this.dir.x);\r\n        var degree = r * 180 / (Math.PI);\r\n        degree = 360 - degree + 90;\r\n        this.node.rotation = degree;\r\n\r\n        this.node.height = this.dir.mag()\r\n        var collider = this.node._components[3];\r\n        collider.points[2].y = this.node.height;\r\n        collider.points[3].y = this.node.height;\r\n\r\n        this.node.x = this.Player2.x\r\n        this.node.y = this.Player2.y\r\n    },\r\n});"]}