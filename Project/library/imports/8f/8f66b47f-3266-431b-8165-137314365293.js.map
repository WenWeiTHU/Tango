{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\Bind.js"],"names":["cc","Class","extends","Component","properties","Player1","type","Node","default","Player2","start","director","getCollisionManager","enabled","enabledDebugDraw","dir","v2","x","y","r","Math","atan2","degree","PI","node","rotation","height","mag","update","dt","collider","_components","points"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,iBAAS;AACLC,kBAAMN,GAAGO,IADJ;AAELC,qBAAS;AAFJ,SADD;;AAMRC,iBAAS;AACLH,kBAAMN,GAAGO,IADJ;AAELC,qBAAS;AAFJ;;AAKT;AACA;AACA;AAbQ,KAHP;;AAmBL;;AAEA;;AAEAE,SAvBK,mBAuBG;AACJV,WAAGW,QAAH,CAAYC,mBAAZ,GAAkCC,OAAlC,GAA4C,IAA5C;AACAb,WAAGW,QAAH,CAAYC,mBAAZ,GAAkCE,gBAAlC,GAAqD,IAArD;AACA,aAAKC,GAAL,GAAWf,GAAGgB,EAAH,CAAM,KAAKX,OAAL,CAAaY,CAAb,GAAiB,KAAKR,OAAL,CAAaQ,CAApC,EAAuC,KAAKZ,OAAL,CAAaa,CAAb,GAAiB,KAAKT,OAAL,CAAaS,CAArE,CAAX;AACA,YAAIC,IAAIC,KAAKC,KAAL,CAAW,KAAKN,GAAL,CAASG,CAApB,EAAuB,KAAKH,GAAL,CAASE,CAAhC,CAAR;AACA,YAAIK,SAASH,IAAI,GAAJ,GAAWC,KAAKG,EAA7B;AACAD,iBAAS,MAAMA,MAAN,GAAe,EAAxB;AACA,aAAKE,IAAL,CAAUC,QAAV,GAAqBH,MAArB;;AAEA,aAAKE,IAAL,CAAUE,MAAV,GAAmB,KAAKX,GAAL,CAASY,GAAT,EAAnB;AACA,aAAKH,IAAL,CAAUP,CAAV,GAAc,KAAKR,OAAL,CAAaQ,CAA3B;AACA,aAAKO,IAAL,CAAUN,CAAV,GAAc,KAAKT,OAAL,CAAaS,CAA3B;AACH,KAnCI;;;AAqCL;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEAU,UAzDK,kBAyDGC,EAzDH,EAyDO;AACR,aAAKd,GAAL,GAAWf,GAAGgB,EAAH,CAAM,KAAKX,OAAL,CAAaY,CAAb,GAAiB,KAAKR,OAAL,CAAaQ,CAApC,EAAuC,KAAKZ,OAAL,CAAaa,CAAb,GAAiB,KAAKT,OAAL,CAAaS,CAArE,CAAX;AACA,YAAIC,IAAIC,KAAKC,KAAL,CAAW,KAAKN,GAAL,CAASG,CAApB,EAAuB,KAAKH,GAAL,CAASE,CAAhC,CAAR;AACA,YAAIK,SAASH,IAAI,GAAJ,GAAWC,KAAKG,EAA7B;AACAD,iBAAS,MAAMA,MAAN,GAAe,EAAxB;AACA,aAAKE,IAAL,CAAUC,QAAV,GAAqBH,MAArB;;AAGA,aAAKE,IAAL,CAAUE,MAAV,GAAmB,KAAKX,GAAL,CAASY,GAAT,EAAnB;AACA,YAAIG,WAAW,KAAKN,IAAL,CAAUO,WAAV,CAAsB,CAAtB,CAAf;AACA;AACAD,iBAASE,MAAT,CAAgB,CAAhB,EAAmBd,CAAnB,GAAuB,KAAKM,IAAL,CAAUE,MAAjC;AACAI,iBAASE,MAAT,CAAgB,CAAhB,EAAmBd,CAAnB,GAAuB,KAAKM,IAAL,CAAUE,MAAjC;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAKF,IAAL,CAAUP,CAAV,GAAc,KAAKR,OAAL,CAAaQ,CAA3B;AACA,aAAKO,IAAL,CAAUN,CAAV,GAAc,KAAKT,OAAL,CAAaS,CAA3B;AACH;AAhFI,CAAT","file":"Bind.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        Player1: {\r\n            type: cc.Node,\r\n            default: null\r\n        },\r\n\r\n        Player2: {\r\n            type: cc.Node,\r\n            default: null\r\n        },\r\n\r\n        // MinLength: 500,\r\n        // MaxLength: 700,\r\n        // Strength: 3,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start() {\r\n        cc.director.getCollisionManager().enabled = true;\r\n        cc.director.getCollisionManager().enabledDebugDraw = true;\r\n        this.dir = cc.v2(this.Player1.x - this.Player2.x, this.Player1.y - this.Player2.y)\r\n        var r = Math.atan2(this.dir.y, this.dir.x);\r\n        var degree = r * 180 / (Math.PI);\r\n        degree = 360 - degree + 90;\r\n        this.node.rotation = degree;\r\n\r\n        this.node.height = this.dir.mag()\r\n        this.node.x = this.Player2.x\r\n        this.node.y = this.Player2.y\r\n    },\r\n\r\n    // drag: function(dt){\r\n    //     this.Player1.x -= this.dir.x * this.Strength * dt;\r\n    //     this.Player1.y -= this.dir.y * this.Strength * dt;\r\n    //     console.log('dt: ', dt)\r\n    //     console.log('this.dir.x * this.Strength * dt: ', this.dir.x * this.Strength * dt)\r\n    //     console.log('this.dir.y * this.Strength * dt: ', this.dir.y * this.Strength * dt)\r\n\r\n\r\n    //     this.Player2.x += this.dir.x * this.Strength * dt;\r\n    //     this.Player2.y += this.dir.y * this.Strength * dt;\r\n    // },\r\n\r\n    // push: function(dt){\r\n    //     this.Player1.x += this.dir.x * this.Strength * dt;\r\n    //     this.Player1.y += this.dir.y * this.Strength * dt;\r\n\r\n    //     this.Player2.x -= this.dir.x * this.Strength * dt;\r\n    //     this.Player2.y -= this.dir.y * this.Strength * dt;\r\n    // },\r\n\r\n    update (dt) {\r\n        this.dir = cc.v2(this.Player1.x - this.Player2.x, this.Player1.y - this.Player2.y)\r\n        var r = Math.atan2(this.dir.y, this.dir.x);\r\n        var degree = r * 180 / (Math.PI);\r\n        degree = 360 - degree + 90;\r\n        this.node.rotation = degree;\r\n        \r\n\r\n        this.node.height = this.dir.mag()\r\n        var collider = this.node._components[2];\r\n        debugger;\r\n        collider.points[2].y = this.node.height;\r\n        collider.points[3].y = this.node.height;\r\n\r\n        // if(this.node.height > this.MaxLength){\r\n        //     this.drag(dt)\r\n        // }\r\n        // else if(this.node.height < this.MinLength){\r\n        //     this.push(dt)\r\n        // }\r\n\r\n        this.node.x = this.Player2.x\r\n        this.node.y = this.Player2.y\r\n    },\r\n\r\n\r\n});"]}