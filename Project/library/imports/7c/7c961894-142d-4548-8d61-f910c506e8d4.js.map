{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\Game/assets\\scripts\\Game\\EnemyTrack.js"],"names":["cc","Class","extends","require","properties","Player","type","Node","default","maxSpeed","iniAccel","start","director","getCollisionManager","enabled","speedX","speedY","track","dt","dir","v2","x","node","y","distance","mag","Math","sqrt","pow","update","rotate"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASC,QAAQ,OAAR,CADJ;;AAGLC,gBAAY;AACRC,gBAAQ;AACJC,kBAAMN,GAAGO,IADL;AAEJC,qBAAS;AAFL,SADA;AAKRC,kBAAU,GALF;AAMRC,kBAAU;AANF,KAHP;;AAYL;;AAEA;;AAEAC,SAhBK,mBAgBG;AACJX,WAAGY,QAAH,CAAYC,mBAAZ,GAAkCC,OAAlC,GAA4C,IAA5C;AACA,aAAKC,MAAL,GAAc,CAAd;AACA,aAAKC,MAAL,GAAc,CAAd;AACH,KApBI;;;AAsBLC,WAAO,eAAUC,EAAV,EAAc;AACjB,aAAKC,GAAL,GAAWnB,GAAGoB,EAAH,CAAM,KAAKf,MAAL,CAAYgB,CAAZ,GAAgB,KAAKC,IAAL,CAAUD,CAAhC,EAAmC,KAAKhB,MAAL,CAAYkB,CAAZ,GAAgB,KAAKD,IAAL,CAAUC,CAA7D,CAAX;;AAEA,aAAKC,QAAL,GAAgB,KAAKL,GAAL,CAASM,GAAT,EAAhB;;AAEA,YAAGC,KAAKC,IAAL,CAAUD,KAAKE,GAAL,CAAS,KAAKb,MAAd,EAAsB,CAAtB,IAA0BW,KAAKE,GAAL,CAAS,KAAKZ,MAAd,EAAsB,CAAtB,CAApC,IAAgE,KAAKP,QAAxE,EAAiF;AAC7E,iBAAKM,MAAL,IAAe,KAAKL,QAAL,GAAgBQ,EAA/B;AACA,iBAAKF,MAAL,IAAe,KAAKN,QAAL,GAAgBQ,EAA/B;AACH;;AAED,aAAKI,IAAL,CAAUD,CAAV,IAAe,KAAKN,MAAL,GAAc,KAAKI,GAAL,CAASE,CAAvB,GAA2B,KAAKG,QAA/C;AACA,aAAKF,IAAL,CAAUC,CAAV,IAAe,KAAKP,MAAL,GAAc,KAAKG,GAAL,CAASI,CAAvB,GAA2B,KAAKC,QAA/C;AACH,KAlCI;;AAoCLK,UApCK,kBAoCEX,EApCF,EAoCM;AACP,aAAKY,MAAL;AACA,aAAKb,KAAL,CAAWC,EAAX;AACH;AAvCI,CAAT","file":"EnemyTrack.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\Game","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: require(\"Enemy\"),\n\n    properties: {\n        Player: {\n            type: cc.Node,\n            default: null,\n        },\n        maxSpeed: 400,\n        iniAccel: 0.01,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    // onLoad () {},\n\n    start() {\n        cc.director.getCollisionManager().enabled = true;\n        this.speedX = 0\n        this.speedY = 0\n    },\n\n    track: function (dt) {\n        this.dir = cc.v2(this.Player.x - this.node.x, this.Player.y - this.node.y)\n\n        this.distance = this.dir.mag()\n\n        if(Math.sqrt(Math.pow(this.speedX, 2)+ Math.pow(this.speedY, 2)) < this.maxSpeed){\n            this.speedX += this.iniAccel * dt\n            this.speedY += this.iniAccel * dt\n        }\n        \n        this.node.x += this.speedX * this.dir.x / this.distance\n        this.node.y += this.speedY * this.dir.y / this.distance\n    },\n\n    update(dt) {\n        this.rotate()\n        this.track(dt)\n    },\n});"]}