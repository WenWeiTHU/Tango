{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\Help/assets\\scripts\\Help\\Help.js"],"names":["cc","Class","extends","Component","properties","Player1","type","Node","default","Player2","Bind","JoyStickLeft","JoyStickRight","Gravity","icon","life","Label1","Label","Label2","Label3","Label4","Label5","Label6","Label7","Label8","Target","Target2","Enemy","Prefab","Explode","AudioSource","MainCamera","Camera","onLoad","newDegree","stage","children","on","EventType","TOUCH_START","e","node","active","start","showEnemy","thing","instantiate","getComponent","speedX","speedY","addChild","setPosition","showLabel","showFriend","showBind","update","dt","v2","x","y","mag","_name","schedule","zoomRatio","scheduleOnce","director","loadScene","rotation"],"mappings":"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","file":"Help.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\Help","sourcesContent":["/*\n * 帮助场景函数\n */\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        Player1: {\n            type: cc.Node,\n            default: null,\n        },\n        Player2: {\n            type: cc.Node,\n            default: null,\n        },\n        Bind:{\n            type: cc.Node,\n            default: null\n        },\n        JoyStickLeft:{\n            type: cc.Node,\n            default: null\n        },\n        JoyStickRight:{\n            type: cc.Node,\n            default: null\n        },\n        Gravity:{\n            type: cc.Node,\n            default: null\n        },\n        icon:{\n            type: cc.Node,\n            default: null\n        },\n        life:{\n            type: cc.Node,\n            default: null\n        },\n        Label1:{\n            type: cc.Label,\n            default: null\n        },\n        Label2:{\n            type: cc.Label,\n            default: null\n        },\n        Label3:{\n            type: cc.Label,\n            default: null\n        },\n        Label4:{\n            type: cc.Label,\n            default: null\n        },\n        Label5:{\n            type: cc.Label,\n            default: null\n        },\n        Label6:{\n            type: cc.Label,\n            default: null\n        },\n        Label7:{\n            type: cc.Label,\n            default: null\n        },\n        Label8:{\n            type: cc.Label,\n            default: null\n        },\n        Target:{\n            type: cc.Node,\n            default: null\n        },\n        Target2:{\n            type: cc.Node,\n            default: null\n        },\n        Enemy:{\n            type: cc.Prefab,\n            default: null\n        },\n        Explode:{\n            type: cc.AudioSource,\n            default: null\n        },\n        MainCamera:{\n            type: cc.Camera,\n            default: null\n        }\n    },\n\n    /*\n     * 初始化函数\n     * 功能：初始化场景所需的设定\n     */\n    onLoad () {\n        this.newDegree = 0\n        this.stage = 0\n        // 将右边控制杆设置为无效\n        this.JoyStickLeft.children[1].on(cc.Node.EventType.TOUCH_START, function (e) {\n            if(this.stage === 0){\n                this.Label1.node.active = false\n                this.Label2.node.active = true\n\n                this.Target.active = true\n                this.stage = 1\n            }\n        }, this);\n    },\n\n    start () {\n        \n    },\n\n    /*\n     * 展示敌人函数\n     * 功能：将敌人生成在地图上\n     */\n    showEnemy () {\n        this.Label2.node.active = false\n        this.Label3.node.active = true\n        this.Label8.node.active = true\n \n        let thing = cc.instantiate(this.Enemy)\n\n        thing.getComponent('Enemy').Explode = this.Explode\n        thing.getComponent('Enemy').speedX = 0\n        thing.getComponent('Enemy').speedY = 0\n        this.node.addChild(thing)\n        thing.setPosition(0, 0)\n\n        this.Label4.node.active = true\n        this.stage = 3\n    },\n\n    /*\n     * 展示引导语函数\n     * 功能：将引导语显示出来\n     */\n    showLabel () {\n        this.Label3.node.active = false\n        this.Label4.node.active = false\n        this.Label5.node.active = true\n        this.Target2.active = true\n        this.stage = 5\n    },\n\n    /*\n     * 展示队友函数\n     * 功能：显示队友\n     */\n    showFriend () {\n        this.Label5.node.active = false\n        this.Label6.node.active = true\n        this.Player2.active = true\n        this.stage = 7\n    },\n\n    /*\n     * 展示链接函数\n     * 功能：使链接显示出来\n     */\n    showBind () {\n        this.Bind.active = true\n        this.Gravity.active = true\n        this.JoyStickRight.active = true\n        this.Label6.node.active = false\n        this.Label7.node.active = true\n        this.icon.active = true\n        this.life.active = true\n        this.stage = 8\n\n        let thing = cc.instantiate(this.Enemy)\n        thing.getComponent('Enemy').Explode = this.Explode\n        this.node.addChild(thing)\n        thing.setPosition(0, 300)\n    },\n\n    /*\n     * 系统更新函数\n     * 功能：根据当前玩家的状态来更新下一步的状态\n     */\n    update (dt) {\n        if(this.stage === 1 && cc.v2(this.Target.x - this.Player1.x, this.Target.y - this.Player1.y).mag() < 40){\n            this.stage = 2\n            this.Target.active = false\n            this.showEnemy()\n        }\n\n        if(this.stage === 5 && cc.v2(this.Target2.x - this.Player1.x, this.Target2.y - this.Player1.y).mag() < 40){\n            this.stage = 6\n            this.Target2.active = false\n            this.showFriend()\n        }\n\n        if(this.stage === 3 && this.node.children[11] && this.node.children[11]._name != \"enemy\"){\n            this.stage = 4\n            this.Label8.node.active = false\n            this.showLabel()\n        }\n\n        if(this.stage === 7 && cc.v2(this.Player2.x - this.Player1.x, this.Player2.y - this.Player1.y).mag() < 40){\n            this.stage = 8\n            this.showBind()\n        }\n\n        if(this.stage === 8 && this.node.children[11] && this.node.children[11]._name != 'enemy'){\n            this.schedule(() => {\n                this.MainCamera.zoomRatio -= 0.0003\n            }, 0.05)\n            \n            this.scheduleOnce(()=>{\n                cc.director.loadScene(\"beginMenu\")\n            }, 2) \n        }\n\n        \n        this.newDegree = this.newDegree + 2\n        this.newDegree = this.newDegree > 360 ? this.newDegree - 360 : this.newDegree\n        if(this.Target.active){\n            this.Target.rotation = this.newDegree\n        }\n        if(this.Target2.active){\n            this.Target2.rotation = this.newDegree\n        }\n    },\n});\n"]}