{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\Player.js"],"names":["cc","Class","extends","Component","properties","accel","speedX","speedY","resistance","onLoad","conlidManager","director","getCollisionManager","enabled","onCollisionEnter","other","self","group","node","mapCollision","obj_map","name","start","update","dt","x","y"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAO,CADC;AAERC,gBAAQ,CAFA;AAGRC,gBAAQ,CAHA;AAIRC,oBAAY;AAJJ,KAHP;;AAUL;;AAEAC,UAZK,oBAYK;AACN,aAAKC,aAAL,GAAqBV,GAAGW,QAAH,CAAYC,mBAAZ,EAArB;AACA,aAAKF,aAAL,CAAmBG,OAAnB,GAA6B,IAA7B;AACH,KAfI;;;AAiBL;;;AAGAC,oBApBK,4BAoBaC,KApBb,EAoBoBC,IApBpB,EAoB0B;AAC3B;AACA,YAAIC,QAAQF,MAAMG,IAAN,CAAWD,KAAvB;AACA,gBAAQA,KAAR;AACI,iBAAK,KAAL;AAAY;AACR;AACI,yBAAKE,YAAL,CAAkBJ,KAAlB;AACA;AACH;;AAED;AAPR;AASH,KAhCI;;;AAkCL;;;AAGAI,gBArCK,wBAqCQC,OArCR,EAqCiB;AAClB,YAAIC,OAAOD,QAAQF,IAAR,CAAaG,IAAxB;AACA,gBAAQA,IAAR;AACI,iBAAK,SAAL;AAAgB;AACZ,yBAAKf,MAAL,GAAc,CAAC,KAAKA,MAApB;AACA;AACH;AACD,iBAAK,UAAL;AAAiB;AACb,yBAAKA,MAAL,GAAc,CAAC,KAAKA,MAApB;AACA;AACH;AACD,iBAAK,OAAL;AAAc;AACV,yBAAKC,MAAL,GAAc,CAAC,KAAKA,MAApB;AACA;AACH;AACD,iBAAK,SAAL;AAAgB;AACZ,yBAAKA,MAAL,GAAc,CAAC,KAAKA,MAApB;AACA;AACH;AAhBL;AAkBH,KAzDI;AA2DLe,SA3DK,mBA2DI,CAER,CA7DI;AA8DLC,UA9DK,kBA8DEC,EA9DF,EA8DM;AACP;AACA,aAAKN,IAAL,CAAUO,CAAV,IAAe,KAAKnB,MAAL,GAAckB,EAA7B;AACA,aAAKN,IAAL,CAAUQ,CAAV,IAAe,KAAKnB,MAAL,GAAciB,EAA7B;;AAEA;AACA,YAAG,KAAKlB,MAAL,GAAc,KAAKE,UAAtB,EAAiC;AAC7B,iBAAKF,MAAL,IAAe,KAAKA,MAAL,GAAc,IAA7B;AACH,SAFD,MAGK,IAAI,KAAKA,MAAL,GAAc,CAAC,KAAKE,UAAxB,EAAoC;AACrC,iBAAKF,MAAL,IAAe,KAAKA,MAAL,GAAc,IAA7B;AACH;;AAED,YAAG,KAAKC,MAAL,GAAc,KAAKC,UAAtB,EAAkC;AAC9B,iBAAKD,MAAL,IAAe,KAAKA,MAAL,GAAc,IAA7B;AACH,SAFD,MAGK,IAAI,KAAKA,MAAL,GAAc,CAAC,KAAKC,UAAxB,EAAoC;AACrC,iBAAKD,MAAL,IAAe,KAAKA,MAAL,GAAc,IAA7B;AACH;AACJ;AAjFI,CAAT","file":"Player.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        accel: 0,\r\n        speedX: 0,\r\n        speedY: 0,\r\n        resistance: 0,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.conlidManager = cc.director.getCollisionManager();\r\n        this.conlidManager.enabled = true;\r\n    },\r\n\r\n    /*\r\n     * 角色的碰撞事件\r\n     */\r\n    onCollisionEnter (other, self) {\r\n        // 获取碰撞对象的类型\r\n        var group = other.node.group;\r\n        switch (group) {\r\n            case 'Map': {\r\n                // 当碰到的是地图边界时\r\n                    this.mapCollision(other);\r\n                    break;\r\n                }\r\n\r\n                // Others\r\n        }\r\n    },\r\n    \r\n    /*\r\n     * 与地图的碰撞事件\r\n     */\r\n    mapCollision(obj_map) {\r\n        var name = obj_map.node.name;\r\n        switch (name) {\r\n            case 'mapLeft': {\r\n                this.speedX = -this.speedX;\r\n                break;\r\n            }\r\n            case 'mapRight': {\r\n                this.speedX = -this.speedX;\r\n                break;\r\n            }\r\n            case 'mapUp': {\r\n                this.speedY = -this.speedY;\r\n                break;\r\n            }\r\n            case 'mapDown': {\r\n                this.speedY = -this.speedY;\r\n                break;\r\n            }\r\n        }\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n    update(dt) {\r\n        // 运动\r\n        this.node.x += this.speedX * dt;\r\n        this.node.y += this.speedY * dt;\r\n\r\n        // 阻力\r\n        if(this.speedX > this.resistance){\r\n            this.speedX -= this.speedX * 0.01;\r\n        }\r\n        else if (this.speedX < -this.resistance) {\r\n            this.speedX -= this.speedX * 0.01;\r\n        }\r\n\r\n        if(this.speedY > this.resistance) {\r\n            this.speedY -= this.speedY * 0.01;\r\n        }\r\n        else if (this.speedY < -this.resistance) {\r\n            this.speedY -= this.speedY * 0.01;\r\n        }\r\n    }\r\n});\r\n"]}