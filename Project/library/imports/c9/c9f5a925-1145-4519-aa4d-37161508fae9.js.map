{"version":3,"sources":["..\\..\\..\\..\\..\\assets\\scripts\\Rank/assets\\scripts\\Rank\\Ranking.js"],"names":["cc","Class","extends","Component","properties","First","type","Label","default","Second","Third","BackBtn","Button","onLoad","showRank","node","on","director","loadScene","start","scores","JSON","parse","sys","localStorage","getItem","length","string","active","score"],"mappings":";;;;;;AAAA;;;;AAIAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,eAAO;AACHC,kBAAMN,GAAGO,KADN;AAEHC,qBAAS;AAFN,SADC;AAKRC,gBAAQ;AACJH,kBAAMN,GAAGO,KADL;AAEJC,qBAAS;AAFL,SALA;AASRE,eAAO;AACHJ,kBAAMN,GAAGO,KADN;AAEHC,qBAAS;AAFN,SATC;AAaRG,iBAAS;AACLL,kBAAMN,GAAGY,MADJ;AAELJ,qBAAS;AAFJ;AAbD,KAHP;;AAuBL;;;;AAIAK,UA3BK,oBA2BK;AACN,aAAKC,QAAL;AACA,aAAKH,OAAL,CAAaI,IAAb,CAAkBC,EAAlB,CAAqB,OAArB,EAA8B,YAAK;AAC/BhB,eAAGiB,QAAH,CAAYC,SAAZ,CAAsB,gBAAtB;AACH,SAFD,EAEG,IAFH;AAGH,KAhCI;AAkCLC,SAlCK,mBAkCI,CAER,CApCI;;;AAsCL;;;;AAIAL,YA1CK,sBA0CO;AACR,YAAIM,SAASC,KAAKC,KAAL,CAAWtB,GAAGuB,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4B,SAA5B,CAAX,CAAb;AACA,YAAIL,OAAOM,MAAP,GAAgB,CAApB,EAAuB;AACnB,iBAAKrB,KAAL,CAAWsB,MAAX,GAAoB,0BAApB;AACA,iBAAKlB,MAAL,CAAYmB,MAAZ,GAAqB,KAArB;AACA,iBAAKlB,KAAL,CAAWkB,MAAX,GAAoB,KAApB;AACA;AACH;AACD,aAAKvB,KAAL,CAAWsB,MAAX,GAAoB,UAAUP,OAAO,CAAP,EAAUS,KAApB,GAA4B,GAAhD;AACA,YAAIT,OAAOM,MAAP,GAAgB,CAApB,EAAuB;AACnB,iBAAKjB,MAAL,CAAYkB,MAAZ,GAAqB,+BAArB;AACA,iBAAKjB,KAAL,CAAWiB,MAAX,GAAoB,EAApB;AACA;AACH;AACD,aAAKlB,MAAL,CAAYkB,MAAZ,GAAqB,UAAUP,OAAO,CAAP,EAAUS,KAApB,GAA4B,GAAjD;AACA,YAAGT,OAAOM,MAAP,GAAgB,CAAnB,EAAsB;AAClB,iBAAKhB,KAAL,CAAWiB,MAAX,GAAoB,iCAApB;AACA;AACH;AACD,aAAKjB,KAAL,CAAWiB,MAAX,GAAoB,UAAUP,OAAO,CAAP,EAAUS,KAApB,GAA4B,GAAhD;AAEH;AA/DI;;AAiEL;AAjEJ","file":"Ranking.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\Rank","sourcesContent":["/*\r\n * 排行榜脚本\r\n */\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        First: {\r\n            type: cc.Label,\r\n            default: null\r\n        },\r\n        Second: {\r\n            type: cc.Label,\r\n            default: null\r\n        },\r\n        Third: {\r\n            type: cc.Label,\r\n            default: null\r\n        },\r\n        BackBtn: {\r\n            type: cc.Button,\r\n            default: null\r\n        }\r\n    },\r\n\r\n\r\n    /*\r\n     * 初始化函数\r\n     * 功能：初始化脚本所需设定\r\n     */\r\n    onLoad () {\r\n        this.showRank()\r\n        this.BackBtn.node.on('click', ()=> {\r\n            cc.director.loadScene('Transition_INF')\r\n        }, this)\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    /*\r\n     * 展示排行函数\r\n     * 功能：计算和展示排名\r\n     */\r\n    showRank () {\r\n        var scores = JSON.parse(cc.sys.localStorage.getItem('ranking'))\r\n        if (scores.length < 1) {\r\n            this.First.string = 'There is no ranking yet!'\r\n            this.Second.active = false\r\n            this.Third.active = false\r\n            return\r\n        }\r\n        this.First.string = '1st: ' + scores[0].score + 's'\r\n        if (scores.length < 2) {\r\n            this.Second.string = 'Oh! There is only one records'\r\n            this.Third.string = ''\r\n            return\r\n        }\r\n        this.Second.string = '2nd: ' + scores[1].score + 's'\r\n        if(scores.length < 3) {\r\n            this.Third.string = 'Oh! There are only two records!'\r\n            return\r\n        }\r\n        this.Third.string = '3rd: ' + scores[2].score + 's'\r\n        \r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}