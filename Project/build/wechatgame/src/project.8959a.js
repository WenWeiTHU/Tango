window.__require=function e(t,i,n){function a(c,o){if(!i[c]){if(!t[c]){var r=c.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!o&&l)return l(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+c+"'")}}var h=i[c]={exports:{}};t[c][0].call(h.exports,function(e){return a(t[c][1][e]||e)},h,h.exports,e,t,i,n)}return i[c].exports}for(var s="function"==typeof __require&&__require,c=0;c<n.length;c++)a(n[c]);return a}({Battery:[function(e,t,i){"use strict";cc._RF.push(t,"79fddd2NzRP5oudh+AU9zUE","Battery"),cc.Class({extends:cc.Component,properties:{rotationUpdate:0,bulletSpeed:0,shootNum:2,Player1:{type:cc.Node,default:null},Player2:{type:cc.Node,default:null},BulletPrefab:{type:cc.Prefab,default:null},Orbit:{type:cc.AudioSource,default:null},shootTime:2},onLoad:function(){cc.director.getCollisionManager().enabled=!0},start:function(){this.target=Math.random()>.5?this.Player1:this.Player2,this.schedule(this.createBullet,this.shootTime)},createBullet:function(){this.Orbit.play();var e=cc.v2(this.target.x-this.node.x,this.target.y-this.node.y),t=cc.instantiate(this.BulletPrefab),i=t.getComponent("Bullet"),n=180*Math.atan2(this.dir.y,this.dir.x)/Math.PI;t.rotation=450-n,t.x=this.node.x,t.y=this.node.y,t.zIndex=-1,i.direction=e,i.speed=this.bulletSpeed,this.node.parent.addChild(t);for(var a=1;a<this.shootNum;a++){var s=cc.instantiate(this.BulletPrefab),c=s.getComponent("Bullet"),o=180*Math.atan2(this.dir.y,this.dir.x)/Math.PI+5*a;s.rotation=450-o,s.x=this.node.x,s.y=this.node.y,s.zIndex=-1,c.direction=cc.v2(Math.cos(o*Math.PI/180),Math.sin(o*Math.PI/180)),c.speed=this.bulletSpeed,this.node.parent.addChild(s)}for(var r=1;r<this.shootNum;r++){var l=cc.instantiate(this.BulletPrefab),h=l.getComponent("Bullet"),d=180*Math.atan2(this.dir.y,this.dir.x)/Math.PI-5*r;l.rotation=450-d,l.x=this.node.x,l.y=this.node.y,l.zIndex=-1,h.direction=cc.v2(Math.cos(d*Math.PI/180),Math.sin(d*Math.PI/180)),h.speed=this.bulletSpeed,this.node.parent.addChild(l)}this.node.parent.sortAllChildren()},update:function(e){this.dir=cc.v2(this.target.x-this.node.x,this.target.y-this.node.y);var t=180*Math.atan2(this.dir.y,this.dir.x)/Math.PI;t=360-t+90,this.node.rotation=t}}),cc._RF.pop()},{}],Bind:[function(e,t,i){"use strict";cc._RF.push(t,"8f66bR/MmZDG4FlE3MUNlKT","Bind"),cc.Class({extends:cc.Component,properties:{Player1:{type:cc.Node,default:null},Player2:{type:cc.Node,default:null}},onLoad:function(){cc.director.getCollisionManager().enabled=!0,this.getComponent(cc.Animation).play("bindAnim2").wrapMode=cc.WrapMode.Loop},start:function(){this.dir=cc.v2(this.Player1.x-this.Player2.x,this.Player1.y-this.Player2.y);var e=180*Math.atan2(this.dir.y,this.dir.x)/Math.PI;e=360-e+90,this.node.rotation=e,this.node.height=this.dir.mag(),this.node.x=this.Player2.x,this.node.y=this.Player2.y},update:function(e){this.dir=cc.v2(this.Player1.x-this.Player2.x,this.Player1.y-this.Player2.y);var t=180*Math.atan2(this.dir.y,this.dir.x)/Math.PI;t=360-t+90,this.node.rotation=t,this.node.height=this.dir.mag();var i=this.node._components[3];i.points[2].y=this.node.height,i.points[3].y=this.node.height,this.node.x=this.Player2.x,this.node.y=this.Player2.y}}),cc._RF.pop()},{}],Blast:[function(e,t,i){"use strict";cc._RF.push(t,"7d477qknA5DgI+EhWaPfKNE","Blast"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){this.animation=this.node.getComponent(cc.Animation),this.animation.on("finished",this.onFinished,this)},onFinished:function(){this.node.destroy()}}),cc._RF.pop()},{}],Bomb:[function(e,t,i){"use strict";cc._RF.push(t,"080e7tvvbVOOLnYYD1WqFI9","Bomb"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.getComponent(cc.Animation).play("blast")},start:function(){}}),cc._RF.pop()},{}],Bullet:[function(e,t,i){"use strict";cc._RF.push(t,"c00c3kiHjdLYINupJ4EFQ34","Bullet"),cc.Class({extends:cc.Component,properties:{direction:0,speed:0,BulletBreakPrefab:{type:cc.Prefab,default:null}},onLoad:function(){cc.director.getCollisionManager().enabled=!0},start:function(){0!==this.direction&&(this.directionX=this.direction.x/this.direction.mag(),this.directionY=this.direction.y/this.direction.mag())},onCollisionEnter:function(e,t){var i=cc.instantiate(this.BulletBreakPrefab);this.node.parent.addChild(i),i.setPosition(this.node.x,this.node.y),i.getComponent(cc.Animation).play("bulletBreak"),this.node.destroy()},update:function(e){this.node.x+=this.speed*this.directionX*e,this.node.y+=this.speed*this.directionY*e}}),cc._RF.pop()},{}],Camera:[function(e,t,i){"use strict";cc._RF.push(t,"051161RPolNUJ4zdAWAnLRm","Camera"),cc.Class({extends:cc.Component,properties:{Player1:{type:cc.Node,default:null},Player2:{type:cc.Node,default:null}},start:function(){},update:function(e){this.node.x=(this.Player1.x+this.Player2.x)/2,this.node.y=(this.Player1.y+this.Player2.y)/2}}),cc._RF.pop()},{}],EnemyCopter:[function(e,t,i){"use strict";cc._RF.push(t,"393c3v/8d1GU75sOTmfQXWr","EnemyCopter"),cc.Class({extends:e("EnemySpin"),properties:{BulletPrefab:{type:cc.Prefab,default:null},Body:{type:cc.Node,default:null},Fly:{type:cc.Node,default:null},shootTime:3,shootInterval:.3,shootNum:3,bulletSpeed:100,flyRotationUpdate:15},shoot:function(){this.schedule(this.createBullet,this.shootInterval,this.shootNum-1)},createBullet:function(){var e=cc.v2(this.Player.x-this.node.x,this.Player.y-this.node.y),t=cc.instantiate(this.BulletPrefab),i=t.getComponent("Bullet"),n=180*Math.atan2(e.y,e.x)/Math.PI;t.rotation=450-n,t.x=this.node.x,t.y=this.node.y,i.direction=e,i.speed=this.bulletSpeed,this.node.parent.addChild(t),this.node.parent.sortAllChildren()},start:function(){this.angle=0,this.circulateDir=1,this.flyDegree=0,this.schedule(this.shoot,this.shootTime)},face:function(){this.angle+=this.circulateDir*this.circulateUpdate,this.angle=this.angle>360?this.angle-360:this.angle,this.node.rotation=this.angle+180,this.node.x=this.centerX+this.radius*Math.sin(this.angle*Math.PI/180),this.node.y=this.centerY+this.radius*Math.cos(this.angle*Math.PI/180)},update:function(e){this.flyDegree+=this.circulateDir*this.flyRotationUpdate/Math.PI,this.flyDegree=this.flyDegree>360?this.flyDegree-360:this.flyDegree,this.Fly.rotation=this.flyDegree,this.dir=cc.v2(this.Player.x-this.centerX,this.Player.y-this.centerY),this.distance=this.dir.mag(),this.centerX+=this.dir.x/this.distance*this.centerSpeed*e,this.centerY+=this.dir.y/this.distance*this.centerSpeed*e,this.face()}}),cc._RF.pop()},{EnemySpin:"EnemySpin"}],EnemySpin:[function(e,t,i){"use strict";cc._RF.push(t,"dcd0abf4vtLwqUfx3B9ip15","EnemySpin"),cc.Class({extends:e("EnemyTrack"),properties:{Player:{type:cc.Node,default:null,override:!0},centerX:0,centerY:0,centerSpeed:50,radius:100,circulateUpdate:2},onLoad:function(){cc.director.getCollisionManager().enabled=!0},circulate:function(){this.angle+=this.circulateDir*this.circulateUpdate,this.angle=this.angle>360?this.angle-360:this.angle,this.node.x=this.centerX+this.radius*Math.sin(this.angle*Math.PI/180),this.node.y=this.centerY+this.radius*Math.cos(this.angle*Math.PI/180)},start:function(){this.angle=0,this.circulateDir=1},onCollisionEnter:function(e,t){if("Map"!=e.node.group){this.Explode.play();var i=cc.instantiate(this.BlastPrefab);this.node.parent.addChild(i),i.setPosition(this.node.x,this.node.y),i.getComponent(cc.Animation).play("blast3"),this.node.destroy()}else this.circulateDir*=-1},update:function(e){this.rotate(),this.dir=cc.v2(this.Player.x-this.centerX,this.Player.y-this.centerY),this.distance=this.dir.mag(),this.centerX+=this.dir.x/this.distance*this.centerSpeed*e,this.centerY+=this.dir.y/this.distance*this.centerSpeed*e,this.circulate()}}),cc._RF.pop()},{EnemyTrack:"EnemyTrack"}],EnemyStatic:[function(e,t,i){"use strict";cc._RF.push(t,"bd909Jflt1JhZR9GN43odra","EnemyStatic"),cc.Class({extends:e("Enemy"),properties:{shootNum:8,BulletPrefab:{type:cc.Prefab,default:null},bulletSpeed:60},onLoad:function(){cc.director.getCollisionManager().enabled=!0},onCollisionEnter:function(e,t){if("Bind"==e.node.group)for(var i=0;i<360;i+=360/this.shootNum){var n=cc.instantiate(this.BulletPrefab),a=n.getComponent("Bullet");n.rotation=90-i,n.x=this.node.x,n.y=this.node.y,a.direction=cc.v2(Math.cos(i*Math.PI/180),Math.sin(i*Math.PI/180)),a.speed=this.bulletSpeed,this.node.parent.addChild(n)}this.Explode.play();var s=cc.instantiate(this.BlastPrefab);this.node.parent.addChild(s),s.setPosition(this.node.x,this.node.y),s.getComponent(cc.Animation).play("blast3"),this.node.destroy(),this.node.parent.sortAllChildren()},start:function(){},update:function(e){this.rotate()}}),cc._RF.pop()},{Enemy:"Enemy"}],EnemySwing:[function(e,t,i){"use strict";cc._RF.push(t,"3cbb76JyBtC14/Hlo9NPPC0","EnemySwing"),cc.Class({extends:e("Enemy"),properties:{swingDuration:0,rotateDuration:0,targetPosX:0,targetPosY:0},onLoad:function(){},setSwingAction:function(){0===this.targetPosX&&(this.targetPosX=1),this.node.rotation=90-180*Math.atan(this.targetPosY/this.targetPosX)/Math.PI;var e=cc.moveBy(this.swingDuration,cc.v2(this.targetPosX,this.targetPosY)).easing(cc.easeCubicActionInOut()),t=cc.rotateBy(this.rotateDuration,180),i=cc.moveBy(this.swingDuration,cc.v2(-this.targetPosX,-this.targetPosY)).easing(cc.easeCubicActionInOut());t=cc.rotateBy(this.rotateDuration,180);return cc.repeatForever(cc.sequence(e,t,i,t))},start:function(){cc.director.getCollisionManager().enabled=!0,this.swingAction=this.setSwingAction(),this.node.runAction(this.swingAction)}}),cc._RF.pop()},{Enemy:"Enemy"}],EnemyTrack:[function(e,t,i){"use strict";cc._RF.push(t,"7c961iUFC1FSI1h+RDFBujU","EnemyTrack"),cc.Class({extends:e("Enemy"),properties:{Player:{type:cc.Node,default:null},maxSpeed:400,iniAccel:.01},start:function(){cc.director.getCollisionManager().enabled=!0,this.speedX=0,this.speedY=0},track:function(e){this.dir=cc.v2(this.Player.x-this.node.x,this.Player.y-this.node.y),this.distance=this.dir.mag(),Math.sqrt(Math.pow(this.speedX,2)+Math.pow(this.speedY,2))<this.maxSpeed&&(this.speedX+=this.iniAccel*e,this.speedY+=this.iniAccel*e),this.node.x+=this.speedX*this.dir.x/this.distance,this.node.y+=this.speedY*this.dir.y/this.distance},update:function(e){this.rotate(),this.track(e)}}),cc._RF.pop()},{Enemy:"Enemy"}],Enemy:[function(e,t,i){"use strict";cc._RF.push(t,"b218dhOI0lDRr8aXJb2J3qE","Enemy"),cc.Class({extends:cc.Component,properties:{accel:0,speedX:0,speedY:0,rotationUpdate:20,BlastPrefab:{type:cc.Prefab,default:null},Explode:{type:cc.AudioSource,default:null}},rotate:function(){var e=this.node.rotation+this.rotationUpdate/Math.PI;this.node.rotation=e>360?e-360:e},onLoad:function(){this.manager=cc.director.getCollisionManager(),this.manager.enabled=!0},start:function(){},onCollisionEnter:function(e,t){if("Map"===e.node.group)return this.speedX*=-1,void(this.speedY*=-1);this.Explode.play();var i=cc.instantiate(this.BlastPrefab);this.node.parent.addChild(i),i.setPosition(this.node.x,this.node.y),i.getComponent(cc.Animation).play("blast3"),this.node.destroy()},update:function(e){this.rotate(),this.node.x+=this.speedX*e,this.node.y+=this.speedY*e}}),cc._RF.pop()},{}],Game:[function(e,t,i){"use strict";cc._RF.push(t,"9edacm/KdxNBJfVQ66kry1A","Game"),cc.Class({extends:cc.Component,properties:{Player1:{type:cc.Node,default:null},Player2:{type:cc.Node,default:null},SupplyPrefab:{default:null,type:cc.Prefab},ShieldSupplyPrefab:{default:null,type:cc.Prefab},PauseMenuPrefab:{default:null,type:cc.Prefab},EnemyPrefab:{type:cc.Prefab,default:null},StaticEnemyPrefab:{type:cc.Prefab,default:null},TrackEnemyPrefab:{type:cc.Prefab,default:null},SpinEnemyPrefab:{type:cc.Prefab,default:null},SwingEnemyPrefab:{type:cc.Prefab,default:null},CopterEnemyPrefab:{type:cc.Prefab,default:null},BatteryPrefab:{type:cc.Prefab,default:null},BulletPrefab:{type:cc.Prefab,default:null},MapVPrefab:{type:cc.Prefab,default:null},MapHPrefab:{type:cc.Prefab,default:null},Explode1:{type:cc.AudioSource,default:null},pauseBtn:{type:cc.Button,default:null},MapCamera:{type:cc.Camera,default:null},MainCamera:{type:cc.Camera,default:null},Target:{type:cc.Node,default:null},srcX:0,srcY:0,dstX:0,dstY:0,cameraSpeed:0,ratio:0,Width:2500,Height:2500,borderSize:35,stateChange:!1},getRandomPosition:function(){var e=this.Width/2-this.borderSize,t=2*(Math.random()-.5)*e,i=this.Height/2-this.borderSize,n=2*(Math.random()-.5)*i;return cc.v2(t,n)},generate:function(e,t,i){var n=void 0;switch(i){case"enemy":(n=cc.instantiate(this.EnemyPrefab)).getComponent("Enemy").Explode=this.Explode1;break;case"staticEnemy":(n=cc.instantiate(this.StaticEnemyPrefab)).getComponent("EnemyStatic").Explode=this.Explode3;break;case"trackEnemy":(n=cc.instantiate(this.TrackEnemyPrefab)).getComponent("EnemyTrack").Explode=this.Explode1,n.getComponent("EnemyTrack").Player=Math.random()<.5?this.Player1:this.Player2;break;case"spinEnemy":(n=cc.instantiate(this.SpinEnemyPrefab)).getComponent("EnemySpin").Explode=this.Explode2,n.getComponent("EnemySpin").centerX=e,n.getComponent("EnemySpin").centerY=t,n.getComponent("EnemySpin").Player=Math.random()<.5?this.Player1:this.Player2;break;case"swingEnemy":(n=cc.instantiate(this.SwingEnemyPrefab)).getComponent("EnemySwing").Explode=this.Explode1;break;case"copterEnemy":(n=cc.instantiate(this.CopterEnemyPrefab)).getComponent("EnemyCopter").BulletPrefab=this.BulletPrefab,n.getComponent("EnemyCopter").Explode=this.Explode2,n.getComponent("EnemySpin").centerX=e,n.getComponent("EnemySpin").centerY=t,n.getComponent("EnemyCopter").Player=Math.random()<.5?this.Player1:this.Player2;break;case"supply":n=cc.instantiate(this.SupplyPrefab);break;case"shieldSupply":n=cc.instantiate(this.ShieldSupplyPrefab);break;case"battery":(n=cc.instantiate(this.BatteryPrefab)).getComponent("Battery").Player1=this.Player1,n.getComponent("Battery").Player2=this.Player2,n.getComponent("Battery").BulletPrefab=this.BulletPrefab}return this.node.addChild(n),n.setPosition(e,t),n},GameOver:function(){var e=this;this.schedule(function(){e.MainCamera.zoomRatio-=3e-4},.05),this.scheduleOnce(function(){cc.director.loadScene("Transition")},2)},onLoad:function(){this.pauseBtn.node.on("click",this.pauseScene,this);for(var e=0;e<this.node.children.length;++e)switch(this.node.children[e].name){case"player1":case"player2":this.node.children[e].zIndex=100;break;case"stickLeft":case"stickRight":this.node.children[e].zIndex=101;break;case"bg":this.node.children[e].zIndex=-100}this.node.sortAllChildren()},start:function(){this.stateChange=!1,this.cameraMove(this.srcX,this.srcY,this.dstX,this.dstY,this.ratio)},update:function(e){this.stateChange&&(this.pauseScene(),this.stateChange=!1),this.Player1.getComponent("Player").Dead&&this.GameOver(),this.Player2.getComponent("Player").Dead&&this.GameOver();this.Target.getComponent("Target").win;this.Target.getComponent("Target").win&&this.GameOver()},pauseScene:function(){var e=!0,t=!1,i=void 0;try{for(var n,a=this.node.children[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var s=n.value;switch(s.name){case"Enemy":case"Map":case"player1":case"player2":case"bind":case"target":s.active=this.pause;case"UI":var c=!0,o=!1,r=void 0;try{for(var l,h=s.children[Symbol.iterator]();!(c=(l=h.next()).done);c=!0){var d=l.value;"Shield"!=d.group?d.active=this.pause:this.pause?(d.active=d.exist,d.exist=!1,d.active&&("shieldLeft"==d.name?d.timeID=setTimeout(function(){this.active=!1}.bind(this.node.getChildByName("UI").getChildByName("shieldLeft")),2500):d.timeID=setTimeout(function(){this.active=!1}.bind(this.node.getChildByName("UI").getChildByName("shieldRight")),2500))):(d.exist=d.active,d.active=!1,d.timeID&&(clearTimeout(d.timeID),d.timeID=void 0))}}catch(e){o=!0,r=e}finally{try{!c&&h.return&&h.return()}finally{if(o)throw r}}}}}catch(e){t=!0,i=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw i}}if(this.pause=!this.pause,this.pause){var u=cc.instantiate(this.PauseMenuPrefab);u.x=0,u.y=0,u.group="UI",this.node.getChildByName("UI").active=!0,this.node.getChildByName("UI").addChild(u)}},cameraMove:function(e,t,i,n,a){this.MapCamera.node.x=e,this.MapCamera.node.y=t;var s=i-e,c=n-t;this.scheduleOnce(function(){this.schedule(function(){this.MapCamera.zoomRatio>1?this.MapCamera.node.active=!1:(this.MapCamera.zoomRatio+=this.cameraSpeed,this.MapCamera.node.x+=s*this.cameraSpeed/(1-a),this.MapCamera.node.y+=c*this.cameraSpeed/(1-a))},1e-4)},.8)}}),cc._RF.pop()},{}],GodCamera:[function(e,t,i){"use strict";cc._RF.push(t,"92507I+gfRMCoQ0idinpph1","GodCamera"),cc.Class({extends:cc.Component,properties:{goToWhereX:0,goToWhereY:0,toWhereY:0,toWhereX:0},onLoad:function(){var e=this;cc.eventManager.addListener({event:cc.EventListener.KEYBOARD,onKeyPressed:function(t,i){switch(t){case cc.KEY.a:case cc.KEY.left:e.toWhereX=-10;break;case cc.KEY.d:case cc.KEY.right:e.goToWhereX=10;break;case cc.KEY.w:case cc.KEY.up:e.goToWhereY=10;break;case cc.KEY.s:case cc.KEY.down:e.toWhereY=-10}},onKeyReleased:function(t,i){switch(t){case cc.KEY.a:case cc.KEY.left:e.toWhereX=0;break;case cc.KEY.d:case cc.KEY.right:e.goToWhereX=0;break;case cc.KEY.w:case cc.KEY.up:e.goToWhereY=0;break;case cc.KEY.s:case cc.KEY.down:e.toWhereY=0}}},e.node)},goToLeft:function(){this.node.runAction(cc.moveBy(.25,cc.p(this.toWhereX,0)))},goToRigth:function(){this.node.runAction(cc.moveBy(.25,cc.p(this.goToWhereX,0)))},goToUp:function(){this.node.runAction(cc.moveBy(.25,cc.p(0,this.goToWhereY)))},goToBottom:function(){this.node.runAction(cc.moveBy(.25,cc.p(0,this.toWhereY)))},update:function(e){this.goToLeft(),this.goToRigth(),this.goToUp(),this.goToBottom()}}),cc._RF.pop()},{}],Gravity:[function(e,t,i){"use strict";cc._RF.push(t,"89667EI+KZG85YHxp2bpQL2","Gravity"),cc.Class({extends:cc.Component,properties:{Player1:{type:cc.Node,default:null},Player2:{type:cc.Node,default:null},Equilibrium:500,Delta:200,Grav:5e-4,Step:200,resistence:.02},start:function(){this.speedX1=0,this.speedX2=0,this.speedY1=0,this.speedY2=0,this.dir=cc.v2(this.Player1.x-this.Player2.x,this.Player1.y-this.Player2.y),this.distance=this.dir.mag();var e=this.Grav*(this.distance-this.Equilibrium);this.acce=cc.v2(e*this.dir.x/this.distance,e*this.dir.y/this.distance)},update:function(e){this.dir=cc.v2(this.Player1.x-this.Player2.x,this.Player1.y-this.Player2.y),this.distance=this.dir.mag();var t=this.Grav*(this.distance-this.Equilibrium);this.acce=cc.v2(t*this.dir.x/this.distance,t*this.dir.y/this.distance),this.speedX1-=this.acce.x,this.speedY1-=this.acce.y,this.speedX2+=this.acce.x,this.speedY2+=this.acce.y,this.speedX1-=this.speedX1*this.resistence,this.speedX2-=this.speedX2*this.resistence,this.speedY1-=this.speedY1*this.resistence,this.speedY2-=this.speedY2*this.resistence,this.Player1.x+=this.speedX1,this.Player1.y+=this.speedY1,this.Player2.x+=this.speedX2,this.Player2.y+=this.speedY2}}),cc._RF.pop()},{}],Help:[function(e,t,i){"use strict";cc._RF.push(t,"114a25hW5xJGaNFaWWLJUc/","Help"),cc.Class({extends:cc.Component,properties:{Player1:{type:cc.Node,default:null},Player2:{type:cc.Node,default:null},Bind:{type:cc.Node,default:null},JoyStickLeft:{type:cc.Node,default:null},JoyStickRight:{type:cc.Node,default:null},Gravity:{type:cc.Node,default:null},icon:{type:cc.Node,default:null},life:{type:cc.Node,default:null},Label1:{type:cc.Label,default:null},Label2:{type:cc.Label,default:null},Label3:{type:cc.Label,default:null},Label4:{type:cc.Label,default:null},Label5:{type:cc.Label,default:null},Label6:{type:cc.Label,default:null},Label7:{type:cc.Label,default:null},Label8:{type:cc.Label,default:null},Target:{type:cc.Node,default:null},Target2:{type:cc.Node,default:null},Enemy:{type:cc.Prefab,default:null},Explode:{type:cc.AudioSource,default:null},MainCamera:{type:cc.Camera,default:null}},start:function(){this.newDegree=0,this.stage=0,this.JoyStickLeft.children[1].on(cc.Node.EventType.TOUCH_START,function(e){0===this.stage&&(this.Label1.node.active=!1,this.Label2.node.active=!0,this.Target.active=!0,this.stage=1)},this)},showEnemy:function(){this.Label2.node.active=!1,this.Label3.node.active=!0,this.Label8.node.active=!0;var e=cc.instantiate(this.Enemy);e.getComponent("Enemy").Explode=this.Explode,e.getComponent("Enemy").speedX=0,e.getComponent("Enemy").speedY=0,this.node.addChild(e),e.setPosition(0,0),this.Label4.node.active=!0,this.stage=3},showLabel:function(){this.Label3.node.active=!1,this.Label4.node.active=!1,this.Label5.node.active=!0,this.Target2.active=!0,this.stage=5},showFriend:function(){this.Label5.node.active=!1,this.Label6.node.active=!0,this.Player2.active=!0,this.stage=7},showBind:function(){this.Bind.active=!0,this.Gravity.active=!0,this.JoyStickRight.active=!0,this.Label6.node.active=!1,this.Label7.node.active=!0,this.icon.active=!0,this.life.active=!0,this.stage=8;var e=cc.instantiate(this.Enemy);e.getComponent("Enemy").Explode=this.Explode,this.node.addChild(e),e.setPosition(0,300)},update:function(e){var t=this;1===this.stage&&cc.v2(this.Target.x-this.Player1.x,this.Target.y-this.Player1.y).mag()<40&&(this.stage=2,this.Target.active=!1,this.showEnemy()),5===this.stage&&cc.v2(this.Target2.x-this.Player1.x,this.Target2.y-this.Player1.y).mag()<40&&(this.stage=6,this.Target2.active=!1,this.showFriend()),3===this.stage&&this.node.children[11]&&"enemy"!=this.node.children[11]._name&&(this.stage=4,this.Label8.node.active=!1,this.showLabel()),7===this.stage&&cc.v2(this.Player2.x-this.Player1.x,this.Player2.y-this.Player1.y).mag()<40&&(this.stage=8,this.showBind()),8===this.stage&&this.node.children[11]&&"enemy"!=this.node.children[11]._name&&(this.schedule(function(){t.MainCamera.zoomRatio-=3e-4},.05),this.scheduleOnce(function(){cc.director.loadScene("beginMenu")},2)),this.newDegree=this.newDegree+2,this.newDegree=this.newDegree>360?this.newDegree-360:this.newDegree,this.Target.active&&(this.Target.rotation=this.newDegree),this.Target2.active&&(this.Target2.rotation=this.newDegree)}}),cc._RF.pop()},{}],InfinityWar:[function(e,t,i){"use strict";cc._RF.push(t,"0312dg2YytIMZQFtUdXTEFQ","InfinityWar"),cc.Class({extends:cc.Component,properties:{Player1:{type:cc.Node,default:null},Player2:{type:cc.Node,default:null},SupplyPrefab:{default:null,type:cc.Prefab},PauseMenuPrefab:{default:null,type:cc.Prefab},ShieldSupplyPrefab:{default:null,type:cc.Prefab},EnemyPrefab:{type:cc.Prefab,default:null},StaticEnemyPrefab:{type:cc.Prefab,default:null},TrackEnemyPrefab:{type:cc.Prefab,default:null},SpinEnemyPrefab:{type:cc.Prefab,default:null},SwingEnemyPrefab:{type:cc.Prefab,default:null},CopterEnemyPrefab:{type:cc.Prefab,default:null},BatteryPrefab:{type:cc.Prefab,default:null},BulletPrefab:{type:cc.Prefab,default:null},MapVPrefab:{type:cc.Prefab,default:null},MapHPrefab:{type:cc.Prefab,default:null},Explode:{type:cc.AudioSource,default:null},TimeLabel:{type:cc.Label,default:null},pauseBtn:{type:cc.Button,default:null},MainCamera:{type:cc.Camera,default:null},Width:2500,Height:2500,borderSize:45,stateChange:!1},getRandomPosition:function(){var e=this.Width/2-this.borderSize,t=2*(Math.random()-.5)*e,i=this.Height/2-this.borderSize,n=2*(Math.random()-.5)*i;return cc.v2(t,n)},generate:function(e,t,i){var n=void 0;switch(i){case"enemy":(n=cc.instantiate(this.EnemyPrefab)).getComponent("Enemy").Explode=this.Explode;break;case"staticEnemy":(n=cc.instantiate(this.StaticEnemyPrefab)).getComponent("EnemyStatic").Explode=this.Explode;break;case"trackEnemy":(n=cc.instantiate(this.TrackEnemyPrefab)).getComponent("EnemyTrack").Explode=this.Explode,n.getComponent("EnemyTrack").Player=Math.random()<.5?this.Player1:this.Player2;break;case"spinEnemy":(n=cc.instantiate(this.SpinEnemyPrefab)).getComponent("EnemySpin").Explode=this.Explode,n.getComponent("EnemySpin").centerX=e,n.getComponent("EnemySpin").centerY=t,n.getComponent("EnemySpin").Player=Math.random()<.5?this.Player1:this.Player2;break;case"swingEnemy":(n=cc.instantiate(this.SwingEnemyPrefab)).getComponent("EnemySwing").Explode=this.Explode;break;case"copterEnemy":(n=cc.instantiate(this.CopterEnemyPrefab)).getComponent("EnemyCopter").BulletPrefab=this.BulletPrefab,n.getComponent("EnemyCopter").Explode=this.Explode,n.getComponent("EnemySpin").centerX=e,n.getComponent("EnemySpin").centerY=t,n.getComponent("EnemyCopter").Player=Math.random()<.5?this.Player1:this.Player2;break;case"supply":n=cc.instantiate(this.SupplyPrefab);break;case"shieldSupply":n=cc.instantiate(this.ShieldSupplyPrefab);break;case"battery":(n=cc.instantiate(this.BatteryPrefab)).getComponent("Battery").Player1=this.Player1,n.getComponent("Battery").Player2=this.Player2,n.getComponent("Battery").BulletPrefab=this.BulletPrefab}return"battery"==i?this.node.getChildByName("Map").addChild(n):this.node.getChildByName("Enemy").addChild(n),n.setPosition(e,t),n},onLoad:function(){for(var e=0;e<this.node.children.length;++e)switch(this.node.children[e].name){case"player1":case"player2":this.node.children[e].zIndex=100;break;case"stickLeft":case"stickRight":this.node.children[e].zIndex=101;break;case"bg":this.node.children[e].zIndex=-100}this.node.sortAllChildren(),this.pauseBtn.node.on("click",this.pauseScene,this)},start:function(){this.time=0,this.scheduleOnce(this.initGame,0),this.schedule(this.updateTime,1)},updateTime:function(){this.pause||(this.time+=1,this.TimeLabel.string="Time: "+this.time+"s")},initGame:function(){var e=this;this.generate(-500,500,"enemy"),this.generate(500,500,"enemy"),this.generate(500,-500,"enemy"),this.generate(-500,-500,"enemy"),this.generate(0,0,"supply"),this.SupplyHelp(20),this.EnemyAttack(8),this.scheduleOnce(function(){e.StaticEnemyAttack(20)},2),this.scheduleOnce(function(){e.TrackEnemyAttack(12)},10),this.scheduleOnce(function(){e.SpinEnemyAttack(13)},20),this.scheduleOnce(function(){e.BatteryPowerUp(0,0,30)},45),this.scheduleOnce(function(){e.CopterEnemyAttack(15)},60),this.scheduleOnce(function(){e.SwingEnemyAttack("x",2200,0,10,6)},80),this.scheduleOnce(function(){e.SwingEnemyAttack("y",0,2200,10,6)},100),this.scheduleOnce(function(){e.BatteryAdd(60)},120),this.scheduleOnce(function(){e.SwingEnemyAttack("x",1100,1100,20,6)},300),this.scheduleOnce(function(){e.SwingEnemyAttack("y",-1100,1100,20,6)},330)},pauseScene:function(){var e=!0,t=!1,i=void 0;try{for(var n,a=this.node.children[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var s=n.value;switch(s.name){case"Enemy":case"Map":case"player1":case"player2":case"bind":case"target":s.active=this.pause;case"UI":var c=!0,o=!1,r=void 0;try{for(var l,h=s.children[Symbol.iterator]();!(c=(l=h.next()).done);c=!0){var d=l.value;"Shield"!=d.group?d.active=this.pause:this.pause?(d.active=d.exist,d.exist=!1,d.active&&("shieldLeft"==d.name?d.timeID=setTimeout(function(){this.active=!1}.bind(this.node.getChildByName("UI").getChildByName("shieldLeft")),2500):d.timeID=setTimeout(function(){this.active=!1}.bind(this.node.getChildByName("UI").getChildByName("shieldRight")),2500))):(d.exist=d.active,d.active=!1,d.timeID&&(clearTimeout(d.timeID),d.timeID=void 0))}}catch(e){o=!0,r=e}finally{try{!c&&h.return&&h.return()}finally{if(o)throw r}}}}}catch(e){t=!0,i=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw i}}if(this.pause=!this.pause,this.pause){var u=cc.instantiate(this.PauseMenuPrefab);u.x=0,u.y=0,u.group="UI",this.node.getChildByName("UI").active=!0,this.node.getChildByName("UI").addChild(u)}},EnemyAttack:function(e){var t=this;this.schedule(function(){for(var e=0;e<2;e++){var i=t.getRandomPosition(),n=t.generate(i.x,i.y,"enemy").getComponent("Enemy");n.speedX=400*(Math.random()-.5),n.speedY=400*(Math.random()-.5)}},e)},StaticEnemyAttack:function(e){var t=this;this.schedule(function(){var e=t.getRandomPosition();t.generate(e.x,e.y,"staticEnemy")},e)},TrackEnemyAttack:function(e){var t=this;this.schedule(function(){for(var e=0;e<2;e++){var i=t.getRandomPosition();t.generate(i.x,i.y,"trackEnemy")}},e)},SpinEnemyAttack:function(e){var t=this;this.schedule(function(){t.generate(t.Player1.x,t.Player1.y,"spinEnemy"),t.generate(t.Player2.x,t.Player2.y,"spinEnemy")},e)},CopterEnemyAttack:function(e){var t=this;this.schedule(function(){t.generate(t.Player1.x,t.Player1.y,"copterEnemy"),t.generate(t.Player2.x,t.Player2.y,"copterEnemy")},e)},SwingEnemyAttack:function(e,t,i,n,a){var s=this;this.scheduleOnce(function(){for(var c=-1100;c<1100;c+=2200/(n-1)){var o=void 0;"x"===e?o=s.generate(-1100,c,"swingEnemy").getComponent("EnemySwing"):"y"===e&&(o=s.generate(c,-1100,"swingEnemy").getComponent("EnemySwing")),o.targetPosX=t,o.targetPosY=i,o.swingDuration=a}},0)},SupplyHelp:function(e){var t=this;this.schedule(function(){var e=t.getRandomPosition();Math.random()>.5?t.generate(e.x,e.y,"shieldSupply"):t.generate(e.x,e.y,"supply")},e)},BatteryAdd:function(e){var t=this;this.scheduleOnce(function(){t.generate(1100,1100,"battery"),t.scheduleOnce(function(){t.generate(1100,-1100,"battery"),t.scheduleOnce(function(){t.generate(-1100,-1100,"battery")},e)},e)},e)},BatteryPowerUp:function(e,t,i){var n=this;this.scheduleOnce(function(){var a=n.generate(e,t,"battery").getComponent("Battery");a.shootNum=1,n.scheduleOnce(function(){a.shootNum=2,n.scheduleOnce(function(){a.shootNum=3,n.scheduleOnce(function(){a.shootNum=4},i)},i)},i)},i)},update:function(e){var t=this;return this.stateChange&&(this.pauseScene(),this.stateChange=!1),this.Player1.getComponent("Player").Dead?(cc.sys.localStorage.setItem("SurviveScore",String(this.time)),this.schedule(function(){t.MainCamera.zoomRatio-=3e-4},.05),void this.scheduleOnce(function(){"Transition_INF"!=cc.director._loadingScene&&cc.director.loadScene("Transition_INF")},2)):this.Player2.getComponent("Player").Dead?(cc.sys.localStorage.setItem("SurviveScore",String(this.time)),this.schedule(function(){t.MainCamera.zoomRatio-=3e-4},.05),void this.scheduleOnce(function(){"Transition_INF"!=cc.director._loadingScene&&cc.director.loadScene("Transition_INF")},2)):void 0}}),cc._RF.pop()},{}],JoyStick:[function(e,t,i){"use strict";cc._RF.push(t,"2f23cWeQ/ZJ3YlMNvIXPcON","JoyStick"),cc.Class({extends:cc.Component,properties:{Stick:{type:cc.Node,default:null},Ring:{type:cc.Node,default:null},ShieldBtn:{type:cc.Node,default:null},ShieldLabel:{type:cc.Label,default:null},ShieldPrefab:{default:null,type:cc.Prefab},Player:{type:cc.Node,default:null},Max_r:100,ShieldDuartion:5},generateShield:function(){this.player.shield<=0||(this.player.shield--,this.shieldLabel.string=this.player.shield,this.newShield.active=!0,setTimeout(function(){this.active=!1}.bind(this.newShield),1e3*this.ShieldDuartion))},start:function(){this.shieldLabel=this.ShieldLabel.getComponent(cc.Label),this.player=this.Player.getComponents("Player")[0],this.Speed=this.player.speed,this.shieldLabel.string=this.player.shield,this.Stick.x=0,this.Stick.y=0,this.dir=cc.v2(0,0),this.newShield=cc.instantiate(this.ShieldPrefab),this.node.parent.addChild(this.newShield),this.newShield.x=this.Player.x,this.newShield.y=this.Player.y,"stickLeft"===this.node.name?this.newShield.name="shieldLeft":this.newShield.name="shieldRight",this.newShield.active=!1,this.Ring.on(cc.Node.EventType.TOUCH_START,function(e){var t=e.getLocation();this.pos=this.node.convertToNodeSpaceAR(t);var i=this.pos.mag();this.dir.x=this.pos.x/i,this.dir.y=this.pos.y/i,i>this.Max_r&&(this.pos.x=this.Max_r*this.pos.x/i,this.pos.y=this.Max_r*this.pos.y/i),this.Stick.setPosition(this.pos)},this),this.ShieldBtn.on(cc.Node.EventType.TOUCH_START,function(e){this.generateShield()},this),this.Ring.on(cc.Node.EventType.TOUCH_MOVE,function(e){var t=e.getLocation();this.pos=this.node.convertToNodeSpaceAR(t);var i=this.pos.mag();this.dir.x=this.pos.x/i,this.dir.y=this.pos.y/i,i>this.Max_r&&(this.pos.x=this.Max_r*this.pos.x/i,this.pos.y=this.Max_r*this.pos.y/i),this.Stick.setPosition(this.pos)},this),this.Ring.on(cc.Node.EventType.TOUCH_END,function(e){this.Stick.setPosition(cc.v2(0,0)),this.dir=cc.v2(0,0)},this),this.Ring.on(cc.Node.EventType.TOUCH_CANCEL,function(e){this.Stick.setPosition(cc.v2(0,0)),this.dir=cc.v2(0,0)},this)},update:function(e){if(null!==this.newShield&&(this.newShield.x=this.Player.x,this.newShield.y=this.Player.y),!(this.dir.mag()<.5)){this.Player.x+=this.Speed*this.dir.x*this.pos.mag()/(this.dir.mag()*this.Max_r),this.Player.y+=this.Speed*this.dir.y*this.pos.mag()/(this.dir.mag()*this.Max_r);var t=180*Math.atan2(this.dir.y,this.dir.x)/Math.PI;t=360-t+90,this.Player.rotation=t}}}),cc._RF.pop()},{}],Map:[function(e,t,i){"use strict";cc._RF.push(t,"ad735tfp8hJar9OkRuTB6K8","Map"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.collidManager=cc.director.getCollisionManager(),this.collidManager.enabled=!0},onCollisionEnter:function(e,t){},start:function(){}}),cc._RF.pop()},{}],Menu:[function(e,t,i){"use strict";cc._RF.push(t,"3de02+8VlBLVZ49zbiOixbp","Menu"),cc.Class({extends:cc.Component,properties:{player1:{type:cc.Node,default:null},player2:{type:cc.Node,default:null},startBtn:{type:cc.Button,default:null},helpBtn:{type:cc.Button,default:null},bindR:{type:cc.Node,default:null},bindL:{type:cc.Node,default:null},enemyStatic:{type:cc.Node,default:null},enemySpin:{type:cc.Node,default:null},BlastPrefab1:{type:cc.Prefab,default:null},BlastPrefab2:{type:cc.Prefab,default:null},enemySwing1:{type:cc.Node,default:null},enemySwing2:{type:cc.Node,default:null},bgm:{type:cc.AudioClip,default:null}},onLoad:function(){if(cc.audioEngine.isMusicPlaying()||(console.log(1),cc.audioEngine.playMusic(this.bgm,!0)),null===cc.sys.localStorage.getItem("Stage1")){cc.sys.localStorage.setItem("Stage1",!0);for(var e=2;e<13;++e)cc.sys.localStorage.setItem("Stage"+String(e),!1)}this.startBtn.node.on("click",function(){"Selection"!=cc.director._loadingScene&&cc.director.loadScene("Selection")},this),this.helpBtn.node.on("click",function(){"Help"!=cc.director._loadingScene&&cc.director.loadScene("Help")},this),this.spinDegree=0,this.bindR.getComponent(cc.Animation).play("bindAnim2").wrapMode=cc.WrapMode.Loop,this.bindL.getComponent(cc.Animation).play("bindAnim2").wrapMode=cc.WrapMode.Loop;var t=cc.moveBy(2,cc.v2(this.enemySwing2.x-this.enemySwing1.x,0)).easing(cc.easeCubicActionInOut()),i=cc.rotateBy(1,180),n=cc.rotateBy(1,-180),a=cc.moveBy(2,cc.v2(this.enemySwing1.x-this.enemySwing2.x,0)).easing(cc.easeCubicActionInOut());this.enemySwing1.runAction(cc.repeatForever(cc.sequence(t,i,a,n))),this.enemySwing2.runAction(cc.repeatForever(cc.sequence(a,n,t,i))),this.schedule(this.explosion,3)},startClick:function(){"Selection"!=cc.director.getScene().name&&cc.director.loadScene("Selection")},explosion:function(){var e=cc.instantiate(this.BlastPrefab1);this.node.addChild(e),e.setPosition(this.player1.x,this.player1.y),e.getComponent(cc.Animation).play("blast1");var t=cc.instantiate(this.BlastPrefab2);this.node.addChild(t),t.setPosition(this.player2.x,this.player2.y),t.getComponent(cc.Animation).play("blast2")},start:function(){},update:function(e){var t=this.enemyStatic.rotation+10/Math.PI;this.enemyStatic.rotation=t>360?t-360:t,this.enemySpin.rotation=t>360?t-360:t,this.spinDegree+=.3,this.spinDegree=this.spinDegree>360?this.spinDegree-360:this.spinDegree,this.enemySpin.x=this.enemyStatic.x+135*Math.sin(this.spinDegree*Math.PI/180),this.enemySpin.y=this.enemyStatic.y+135*Math.cos(this.spinDegree*Math.PI/180)}}),cc._RF.pop()},{}],PauseMenu:[function(e,t,i){"use strict";cc._RF.push(t,"c97547u30RIOKGjKzxiYhjP","PauseMenu"),cc.Class({extends:cc.Component,properties:{ContinueBtn:{type:cc.Button,default:null},HomeBtn:{type:cc.Button,default:null}},start:function(){this.ContinueBtn.node.on("click",this.Continue,this),this.HomeBtn.node.on("click",function(){"beginMenu"!=cc.director._loadingScene&&cc.director.loadScene("beginMenu")},this)},Continue:function(){this.node.parent.parent._components[1].stateChange=!0,this.node.destroy()}}),cc._RF.pop()},{}],Player:[function(e,t,i){"use strict";cc._RF.push(t,"4f7a7FtlSND5pp5T0lE8TP4","Player"),cc.Class({extends:cc.Component,properties:{life:3,shield:3,immortalDuration:2,BlastPrefab:{type:cc.Prefab,default:null},PlayerHit:{type:cc.AudioSource,default:null},Death:{type:cc.AudioSource,default:null},Bonus:{type:cc.AudioSource,default:null},LifeLabel:{type:cc.Label,default:null},ShieldLabel:{type:cc.Label,default:null},speed:5,Dead:!1},onLoad:function(){cc.director.getCollisionManager().enabled=!0,this.blastName="blast"+this.node.name[6],this.immortal=!1},onCollisionEnter:function(e,t){switch(e.node.group){case"Map":this.mapCollision(e);break;case"Enemy":this.enemyCollision(e);break;case"Supply":"supply"===e.node._name?this.life++:"shieldSupply"===e.node._name&&this.shield++,this.Bonus.play();break;case"Bullet":var i=cc.instantiate(this.BlastPrefab);this.node.parent.addChild(i),i.setPosition(this.node.x,this.node.y),i.getComponent(cc.Animation).play(this.blastName),this.PlayerHit.play(),this.lostLife()}},onCollisionStay:function(e,t){switch(e.node.group){case"Map":this.mapCollision(e)}},lostLife:function(){if(!this.immortal){if(this.life--,this.immortal=!0,this.life<0)return void this.GameOver();setTimeout(function(){this.immortal=!1}.bind(this),1e3*this.immortalDuration)}},GameOver:function(){var e={Stage:cc.director.getScene().name,Win:!1};cc.sys.localStorage.setItem("lastStage",JSON.stringify(e)),this.Dead=!0},mapCollision:function(e){switch(e.node._name){case"mapV":e.node.x<this.node.x?this.node.x=this.node.x+this.speed+1:e.node.x>this.node.x&&(this.node.x=this.node.x-this.speed-1);break;case"mapH":e.node.y<this.node.y?this.node.y=this.node.y+this.speed+1:e.node.y>this.node.y&&(this.node.y=this.node.y-this.speed-1)}},enemyCollision:function(e){switch(e.node.name){case"battery":this.speedX=-this.speedX,this.speedY=-this.speedY;break;case"enemy":case"enemy_static":case"enemy_spin":case"enemy_swing":case"enemy_copter":case"enemy_track":var t=cc.instantiate(this.BlastPrefab);this.node.parent.addChild(t),t.setPosition(this.node.x,this.node.y),t.getComponent(cc.Animation).play(this.blastName),this.PlayerHit.play(),this.lostLife()}},start:function(){this.lifeLabel=this.LifeLabel.getComponent(cc.Label),this.lifeLabel.string=this.life,this.shieldLabel=this.ShieldLabel.getComponent(cc.Label),this.shieldLabel.string=this.shield},update:function(e){this.lifeLabel.string=this.life,this.shieldLabel.string=this.shield}}),cc._RF.pop()},{}],Selection:[function(e,t,i){"use strict";cc._RF.push(t,"78ffbwEWy9HaoK5OBR3krnG","Selection"),cc.Class({extends:cc.Component,properties:{SurviveBtn:{type:cc.Button,default:null},BattleBtn:{type:cc.Button,default:null},HomeBtn:{type:cc.Button,default:null}},start:function(){this.SurviveBtn.node.on("click",this.loadSurviveScene,this),this.BattleBtn.node.on("click",this.loadStageSelectScene,this),this.HomeBtn.node.on("click",this.loadHomeScene,this)},loadSurviveScene:function(){"Infinity War"!=cc.director._loadingScene&&cc.director.loadScene("Infinity War")},loadStageSelectScene:function(){"StageSelect"!=cc.director._loadingScene&&cc.director.loadScene("StageSelect")},loadHomeScene:function(){"beginMenu"!=cc.director._loadingScene&&cc.director.loadScene("beginMenu")}}),cc._RF.pop()},{}],Shield:[function(e,t,i){"use strict";cc._RF.push(t,"d87a8RAd6dPYJRlBkCWsC/T","Shield"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.director.getCollisionManager().enabled=!0},start:function(){}}),cc._RF.pop()},{}],StageCamera:[function(e,t,i){"use strict";cc._RF.push(t,"f53b7ZndGpPDotOB8wswIQ3","StageCamera"),cc.Class({extends:cc.Component,properties:{MapCamera:{type:cc.Camera,default:null}},start:function(){this.cameraMove(2338,-206,-2,-206,.3)},cameraMove:function(e,t,i,n,a){this.MapCamera.node.x=e,this.MapCamera.node.y=t;var s=i-e,c=n-t;this.scheduleOnce(function(){this.schedule(function(){this.MapCamera.zoomRatio>1?this.MapCamera.node.active=!1:(this.MapCamera.zoomRatio+=.001,this.MapCamera.node.x+=.001*s/(1-a),this.MapCamera.node.y+=.001*c/(1-a))},1e-4)},.8)}}),cc._RF.pop()},{}],StageControl:[function(e,t,i){"use strict";cc._RF.push(t,"296b5wxLzBECpOazYXescOJ","StageControl"),cc.Class({extends:cc.Component,properties:{target:{type:cc.Node,default:null},targetX:0,targetY:0},start:function(){this.target.active=!1,this.showTarget=!1},update:function(e){0!=this.node.children.length||this.showTarget||(this.target.active=!0,this.showTarget=!0)}}),cc._RF.pop()},{}],StageSelect:[function(e,t,i){"use strict";cc._RF.push(t,"d7c65wxCEBAo7og+WCzqKVY","StageSelect"),cc.Class({extends:cc.Component,properties:{Stage1Btn:{type:cc.Button,default:null},Stage2Btn:{type:cc.Button,default:null},Stage3Btn:{type:cc.Button,default:null},Stage4Btn:{type:cc.Button,default:null},Stage5Btn:{type:cc.Button,default:null},Stage6Btn:{type:cc.Button,default:null},Stage7Btn:{type:cc.Button,default:null},Stage8Btn:{type:cc.Button,default:null},Stage9Btn:{type:cc.Button,default:null},Stage10Btn:{type:cc.Button,default:null},Stage11Btn:{type:cc.Button,default:null},Stage12Btn:{type:cc.Button,default:null},BackBtn:{type:cc.Button,default:null}},start:function(){var e;for(this.Stage1Btn.node.on("click",this.loadScene(1),this),this.Stage2Btn.node.on("click",this.loadScene(2),this),this.Stage3Btn.node.on("click",this.loadScene(3),this),this.Stage4Btn.node.on("click",this.loadScene(4),this),this.Stage5Btn.node.on("click",this.loadScene(5),this),this.Stage6Btn.node.on("click",this.loadScene(6),this),this.Stage7Btn.node.on("click",this.loadScene(7),this),this.Stage8Btn.node.on("click",this.loadScene(8),this),this.Stage9Btn.node.on("click",this.loadScene(9),this),this.Stage10Btn.node.on("click",this.loadScene(10),this),this.Stage11Btn.node.on("click",this.loadScene(11),this),this.Stage12Btn.node.on("click",this.loadScene(12),this),this.BackBtn.node.on("click",function(){cc.director.loadScene("beginMenu")},this),e=1;e<13;++e){var t="Stage"+String(e);if(!JSON.parse(cc.sys.localStorage.getItem(t))){var i=this["Stage"+String(e)+"Btn"].getComponents(cc.Button),n=!0,a=!1,s=void 0;try{for(var c,o=i[Symbol.iterator]();!(n=(c=o.next()).done);n=!0){c.value.interactable=!1}}catch(e){a=!0,s=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw s}}}}},loadScene:function(e){return function(){cc.director._loadingScene!="Stage"+String(e)&&cc.director.loadScene("Stage"+String(e))}}}),cc._RF.pop()},{}],Supply:[function(e,t,i){"use strict";cc._RF.push(t,"524904tOl1MkpZxJh0gBsbN","Supply"),cc.Class({extends:cc.Component,properties:{existTime:5},onLoad:function(){cc.director.getCollisionManager().enabled=!0},onCollisionEnter:function(e,t){this.node.active=!1},start:function(){var e=this;setTimeout(function(){e.node.destroy()},1e3*this.existTime),this.node.runAction(cc.fadeOut(this.existTime))}}),cc._RF.pop()},{}],Target:[function(e,t,i){"use strict";cc._RF.push(t,"e338da91QdLCJwj9NWUz5Rd","Target"),cc.Class({extends:cc.Component,properties:{bonus:{type:cc.AudioSource,default:null},win:!1},onLoad:function(){cc.director.getCollisionManager().enabled=!0},start:function(){},onCollisionEnter:function(e,t){"Player"==e.node.group&&(this.bonus.play(),this.writeResult(),this.win=!0)},writeResult:function(){var e=cc.director.getScene().name,t={Stage:e,Win:!0};cc.sys.localStorage.setItem("lastStage",JSON.stringify(t));var i=Number(e.slice(e.length-2)),n=isNaN(i)?Number(e[e.length-1])+1:i+1;e="Stage"+String(n),cc.sys.localStorage.setItem(e,!0)},update:function(e){this.node.rotation+=1}}),cc._RF.pop()},{}],Transition:[function(e,t,i){"use strict";cc._RF.push(t,"e58f5MzD3NFWYT0lyPOuI2/","Transition"),cc.Class({extends:cc.Component,properties:{continueBtn:{type:cc.Button,default:null},homeBtn:{type:cc.Button,default:null}},onLoad:function(){if(this.homeBtn.node.on("click",this.loadBeginMenu,this),this.continueBtn.node.on("click",this.loadContinue,this),"Transition_INF"==cc.director.getScene().name){var e=cc.sys.localStorage.getItem("SurviveScore");this.node.getChildByName("Score").getComponent(cc.Label).string="SurvivalTime: "+e+"s"}},loadBeginMenu:function(){cc.director.loadScene("beginMenu")},loadContinue:function(){var e=cc.sys.localStorage.getItem("lastStage");if("Infinity War"!=(e=JSON.parse(e)).Stage){var t=Number(e.Stage.slice(e.Stage.length-2)),i=isNaN(t)?Number(e.Stage[e.Stage.length-1]):t;i=e.Win?i+1:i;var n="Stage"+String(i);cc.director._loadingScene!=n&&cc.director.loadScene(n)}else cc.director.loadScene("Infinity War")},start:function(){}}),cc._RF.pop()},{}],load:[function(e,t,i){"use strict";cc._RF.push(t,"52d80sgBtBOJrfnG4jrFhvu","load"),cc.Class({extends:cc.Component,properties:{},start:function(){cc.loader.downloader.loadSubpackage("res",function(e){if(e)return console.error(e);cc.director.loadScene("beginMenu")})}}),cc._RF.pop()},{}]},{},["Battery","Bind","Blast","Bomb","Bullet","Camera","Enemy","EnemyCopter","EnemySpin","EnemyStatic","EnemySwing","EnemyTrack","Game","GodCamera","Gravity","InfinityWar","JoyStick","Map","PauseMenu","Player","Selection","Shield","StageCamera","StageControl","StageSelect","Supply","Target","Transition","load","Help","Menu"]);