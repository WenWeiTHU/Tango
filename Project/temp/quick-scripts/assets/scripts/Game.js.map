{"version":3,"sources":["Game.js"],"names":["cc","Class","extends","Component","properties","supplyPrefab","default","type","Prefab","supplyTimeGap","StaticEnemyPrefab","staticEnemyNum","getNewPosition","maxX","node","width","randX","Math","random","maxY","height","randY","v2","generateNewStaticEnemy","newEnemy","instantiate","addChild","setPosition","generateSupply","newSupply","getComponent","game","onLoad","start","supplyTimeCounter","update","dt"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,sBAAa;AACTC,qBAAS,IADA;AAETC,kBAAMP,GAAGQ;AAFA,SADL;AAKRC,uBAAe,CALP;AAMRC,2BAAmB;AACfH,kBAAMP,GAAGQ,MADM;AAEfF,qBAAS;AAFM,SANX;AAURK,wBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AA1BQ,KAHP;;AAiCL;AACAC,oBAAgB,0BAAU;AACtB,YAAIC,OAAO,KAAKC,IAAL,CAAUC,KAAV,GAAgB,CAA3B;AACA,YAAIC,QAAQ,CAACC,KAAKC,MAAL,KAAgB,GAAjB,IAAwB,CAAxB,GAA4BL,IAAxC;AACA,YAAIM,OAAO,KAAKL,IAAL,CAAUM,MAAV,GAAiB,CAA5B;AACA,YAAIC,QAAQ,CAACJ,KAAKC,MAAL,KAAgB,GAAjB,IAAwB,CAAxB,GAA4BC,IAAxC;;AAEA,eAAOnB,GAAGsB,EAAH,CAAMN,KAAN,EAAaK,KAAb,CAAP;AACH,KAzCI;;AA2CLE,4BAAwB,kCAAW;AAC/B,YAAIC,WAAWxB,GAAGyB,WAAH,CAAe,KAAKf,iBAApB,CAAf;AACA,aAAKI,IAAL,CAAUY,QAAV,CAAmBF,QAAnB;AACAA,iBAASG,WAAT,CAAqB,CAArB,EAAuB,CAAvB;AACH,KA/CI;;AAiDLC,oBAAgB,0BAAU;AACtB,YAAIC,YAAY7B,GAAGyB,WAAH,CAAe,KAAKpB,YAApB,CAAhB;AACA,aAAKS,IAAL,CAAUY,QAAV,CAAmBG,SAAnB;AACAA,kBAAUF,WAAV,CAAsB,KAAKf,cAAL,EAAtB;AACAiB,kBAAUC,YAAV,CAAuB,QAAvB,EAAiCC,IAAjC,GAAwC,IAAxC;AACH,KAtDI;;AAwDLC,UAxDK,oBAwDK;AACN;AACA;AACA;AACA;AACH,KA7DI;AA+DLC,SA/DK,mBA+DI;AACL,aAAKV,sBAAL;;AAEA,aAAKW,iBAAL,GAAyB,CAAzB;AACH,KAnEI;AAqELC,UArEK,kBAqEGC,EArEH,EAqEO;AACR,aAAKF,iBAAL;AACA,YAAG,KAAKA,iBAAL,KAA2B,KAAKzB,aAAnC,EAAiD;AAC7C,iBAAKyB,iBAAL,GAAyB,CAAzB;AACA,iBAAKN,cAAL;AACH;AACJ;AA3EI,CAAT","file":"Game.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        supplyPrefab:{\r\n            default: null,\r\n            type: cc.Prefab\r\n        },\r\n        supplyTimeGap: 1,\r\n        StaticEnemyPrefab: {\r\n            type: cc.Prefab,\r\n            default: null\r\n        },\r\n        staticEnemyNum: 0,\r\n        // mapUp:{\r\n        //     default: null,\r\n        //     type: cc.Prefab\r\n        // },\r\n        // mapDown:{\r\n        //     default: null,\r\n        //     type: cc.Prefab\r\n        // },\r\n        // mapLeft:{\r\n        //     default: null,\r\n        //     type: cc.Prefab\r\n        // },\r\n        // mapRight:{\r\n        //     default: null,\r\n        //     type: cc.Prefab\r\n        // },\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n    getNewPosition: function(){\r\n        var maxX = this.node.width/2;\r\n        var randX = (Math.random() - 0.5) * 2 * maxX;\r\n        var maxY = this.node.height/2;\r\n        var randY = (Math.random() - 0.5) * 2 * maxY;\r\n\r\n        return cc.v2(randX, randY);\r\n    },\r\n\r\n    generateNewStaticEnemy: function() {\r\n        var newEnemy = cc.instantiate(this.StaticEnemyPrefab);\r\n        this.node.addChild(newEnemy);\r\n        newEnemy.setPosition(0,0);\r\n    },\r\n\r\n    generateSupply: function(){\r\n        var newSupply = cc.instantiate(this.supplyPrefab)\r\n        this.node.addChild(newSupply)\r\n        newSupply.setPosition(this.getNewPosition())\r\n        newSupply.getComponent('Supply').game = this\r\n    },\r\n\r\n    onLoad () {\r\n        // this.goundDown = this.mapDown + this.mapDown.height / 2\r\n        // this.goundUp = this.mapUp - this.mapUp.height / 2\r\n        // this.goundLeft = this.mapLeft + this.mapLeft.width / 2\r\n        // this.goundRight = this.mapRight - this.mapRight.width / 2\r\n    },\r\n\r\n    start () {\r\n        this.generateNewStaticEnemy();\r\n        \r\n        this.supplyTimeCounter = 0\r\n    },\r\n\r\n    update (dt) {\r\n        this.supplyTimeCounter++\r\n        if(this.supplyTimeCounter === this.supplyTimeGap){\r\n            this.supplyTimeCounter = 0\r\n            this.generateSupply()\r\n        }\r\n    },\r\n});\r\n"]}