{"version":3,"sources":["Bind.js"],"names":["cc","Class","extends","Component","properties","Player1","type","Node","default","Player2","start","dir","v2","x","y","r","Math","atan2","degree","PI","node","rotation","height","mag","update","dt"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,iBAAS;AACLC,kBAAMN,GAAGO,IADJ;AAELC,qBAAS;AAFJ,SADD;;AAMRC,iBAAS;AACLH,kBAAMN,GAAGO,IADJ;AAELC,qBAAS;AAFJ;;AAKT;AACA;AACA;AAbQ,KAHP;;AAmBL;;AAEA;;AAEAE,SAvBK,mBAuBG;AACJ,aAAKC,GAAL,GAAWX,GAAGY,EAAH,CAAM,KAAKP,OAAL,CAAaQ,CAAb,GAAiB,KAAKJ,OAAL,CAAaI,CAApC,EAAuC,KAAKR,OAAL,CAAaS,CAAb,GAAiB,KAAKL,OAAL,CAAaK,CAArE,CAAX;AACA,YAAIC,IAAIC,KAAKC,KAAL,CAAW,KAAKN,GAAL,CAASG,CAApB,EAAuB,KAAKH,GAAL,CAASE,CAAhC,CAAR;AACA,YAAIK,SAASH,IAAI,GAAJ,GAAWC,KAAKG,EAA7B;AACAD,iBAAS,MAAMA,MAAN,GAAe,EAAxB;AACA,aAAKE,IAAL,CAAUC,QAAV,GAAqBH,MAArB;;AAEA,aAAKE,IAAL,CAAUE,MAAV,GAAmB,KAAKX,GAAL,CAASY,GAAT,EAAnB;AACA,aAAKH,IAAL,CAAUP,CAAV,GAAc,KAAKJ,OAAL,CAAaI,CAA3B;AACA,aAAKO,IAAL,CAAUN,CAAV,GAAc,KAAKL,OAAL,CAAaK,CAA3B;AACH,KAjCI;;;AAmCL;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEAU,UAvDK,kBAuDGC,EAvDH,EAuDO;AACR,aAAKd,GAAL,GAAWX,GAAGY,EAAH,CAAM,KAAKP,OAAL,CAAaQ,CAAb,GAAiB,KAAKJ,OAAL,CAAaI,CAApC,EAAuC,KAAKR,OAAL,CAAaS,CAAb,GAAiB,KAAKL,OAAL,CAAaK,CAArE,CAAX;AACA,YAAIC,IAAIC,KAAKC,KAAL,CAAW,KAAKN,GAAL,CAASG,CAApB,EAAuB,KAAKH,GAAL,CAASE,CAAhC,CAAR;AACA,YAAIK,SAASH,IAAI,GAAJ,GAAWC,KAAKG,EAA7B;AACAD,iBAAS,MAAMA,MAAN,GAAe,EAAxB;AACA,aAAKE,IAAL,CAAUC,QAAV,GAAqBH,MAArB;;AAEA,aAAKE,IAAL,CAAUE,MAAV,GAAmB,KAAKX,GAAL,CAASY,GAAT,EAAnB;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,aAAKH,IAAL,CAAUP,CAAV,GAAc,KAAKJ,OAAL,CAAaI,CAA3B;AACA,aAAKO,IAAL,CAAUN,CAAV,GAAc,KAAKL,OAAL,CAAaK,CAA3B;AACH;AAzEI,CAAT","file":"Bind.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        Player1: {\r\n            type: cc.Node,\r\n            default: null\r\n        },\r\n\r\n        Player2: {\r\n            type: cc.Node,\r\n            default: null\r\n        },\r\n\r\n        // MinLength: 500,\r\n        // MaxLength: 700,\r\n        // Strength: 3,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start() {\r\n        this.dir = cc.v2(this.Player1.x - this.Player2.x, this.Player1.y - this.Player2.y)\r\n        var r = Math.atan2(this.dir.y, this.dir.x);\r\n        var degree = r * 180 / (Math.PI);\r\n        degree = 360 - degree + 90;\r\n        this.node.rotation = degree;\r\n\r\n        this.node.height = this.dir.mag()\r\n        this.node.x = this.Player2.x\r\n        this.node.y = this.Player2.y\r\n    },\r\n\r\n    // drag: function(dt){\r\n    //     this.Player1.x -= this.dir.x * this.Strength * dt;\r\n    //     this.Player1.y -= this.dir.y * this.Strength * dt;\r\n    //     console.log('dt: ', dt)\r\n    //     console.log('this.dir.x * this.Strength * dt: ', this.dir.x * this.Strength * dt)\r\n    //     console.log('this.dir.y * this.Strength * dt: ', this.dir.y * this.Strength * dt)\r\n\r\n\r\n    //     this.Player2.x += this.dir.x * this.Strength * dt;\r\n    //     this.Player2.y += this.dir.y * this.Strength * dt;\r\n    // },\r\n\r\n    // push: function(dt){\r\n    //     this.Player1.x += this.dir.x * this.Strength * dt;\r\n    //     this.Player1.y += this.dir.y * this.Strength * dt;\r\n\r\n    //     this.Player2.x -= this.dir.x * this.Strength * dt;\r\n    //     this.Player2.y -= this.dir.y * this.Strength * dt;\r\n    // },\r\n\r\n    update (dt) {\r\n        this.dir = cc.v2(this.Player1.x - this.Player2.x, this.Player1.y - this.Player2.y)\r\n        var r = Math.atan2(this.dir.y, this.dir.x);\r\n        var degree = r * 180 / (Math.PI);\r\n        degree = 360 - degree + 90;\r\n        this.node.rotation = degree;\r\n\r\n        this.node.height = this.dir.mag()\r\n\r\n        // if(this.node.height > this.MaxLength){\r\n        //     this.drag(dt)\r\n        // }\r\n        // else if(this.node.height < this.MinLength){\r\n        //     this.push(dt)\r\n        // }\r\n\r\n        this.node.x = this.Player2.x\r\n        this.node.y = this.Player2.y\r\n    },\r\n\r\n\r\n});"]}