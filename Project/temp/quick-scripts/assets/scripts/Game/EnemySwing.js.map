{"version":3,"sources":["EnemySwing.js"],"names":["cc","Class","extends","require","properties","swingDuration","rotateDuration","targetPosX","targetPosY","onLoad","setSwingAction","node","rotation","Math","atan","PI","swingUp","moveBy","v2","easing","easeCubicActionInOut","rotate","rotateBy","swingDown","repeatForever","sequence","start","director","getCollisionManager","enabled","swingAction","runAction"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASC,QAAQ,OAAR,CADJ;;AAGLC,gBAAY;AACRC,uBAAe,CADP;AAERC,wBAAgB,CAFR;AAGRC,oBAAY,CAHJ;AAIRC,oBAAY;AAJJ,KAHP;;AAUL;;AAEAC,UAZK,oBAYK,CACT,CAbI;;;AAeLC,oBAAgB,0BAAU;AACtB,YAAG,KAAKH,UAAL,KAAoB,CAAvB,EAAyB;AACrB,iBAAKA,UAAL,GAAkB,CAAlB;AACH;AACD,aAAKI,IAAL,CAAUC,QAAV,GAAqB,KAAK,MAAMC,KAAKC,IAAL,CAAU,KAAKN,UAAL,GAAkB,KAAKD,UAAjC,CAAN,GAAqDM,KAAKE,EAApF;;AAEA,YAAIC,UAAUhB,GAAGiB,MAAH,CAAU,KAAKZ,aAAf,EAA8BL,GAAGkB,EAAH,CAAM,KAAKX,UAAX,EAAuB,KAAKC,UAA5B,CAA9B,EAAuEW,MAAvE,CAA8EnB,GAAGoB,oBAAH,EAA9E,CAAd;AACA,YAAIC,SAASrB,GAAGsB,QAAH,CAAY,KAAKhB,cAAjB,EAAiC,GAAjC,CAAb;AACA,YAAIiB,YAAYvB,GAAGiB,MAAH,CAAU,KAAKZ,aAAf,EAA8BL,GAAGkB,EAAH,CAAM,CAAC,KAAKX,UAAZ,EAAwB,CAAC,KAAKC,UAA9B,CAA9B,EAAyEW,MAAzE,CAAgFnB,GAAGoB,oBAAH,EAAhF,CAAhB;AACA,YAAIC,SAASrB,GAAGsB,QAAH,CAAY,KAAKhB,cAAjB,EAAiC,GAAjC,CAAb;AACA;AACA,eAAON,GAAGwB,aAAH,CAAiBxB,GAAGyB,QAAH,CAAYT,OAAZ,EAAqBK,MAArB,EAA6BE,SAA7B,EAAwCF,MAAxC,CAAjB,CAAP;AACH,KA3BI;;AA6BLK,SA7BK,mBA6BI;AACL1B,WAAG2B,QAAH,CAAYC,mBAAZ,GAAkCC,OAAlC,GAA4C,IAA5C;;AAEA,aAAKC,WAAL,GAAmB,KAAKpB,cAAL,EAAnB;AACA,aAAKC,IAAL,CAAUoB,SAAV,CAAoB,KAAKD,WAAzB;AACH;AAlCI;;AAoCL;AApCJ","file":"EnemySwing.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\Game","sourcesContent":["// Learn cc.Class:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\n// Learn Attribute:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\n\ncc.Class({\n    extends: require(\"Enemy\"),\n\n    properties: {\n        swingDuration: 0,\n        rotateDuration: 0,\n        targetPosX: 0,\n        targetPosY: 0,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n    },\n\n    setSwingAction: function(){\n        if(this.targetPosX === 0){\n            this.targetPosX = 1\n        }\n        this.node.rotation = 90 - 180 * Math.atan(this.targetPosY / this.targetPosX) / Math.PI\n\n        var swingUp = cc.moveBy(this.swingDuration, cc.v2(this.targetPosX, this.targetPosY)).easing(cc.easeCubicActionInOut()); \n        var rotate = cc.rotateBy(this.rotateDuration, 180)\n        var swingDown = cc.moveBy(this.swingDuration, cc.v2(-this.targetPosX, -this.targetPosY)).easing(cc.easeCubicActionInOut())\n        var rotate = cc.rotateBy(this.rotateDuration, 180)\n        // 不断重复\n        return cc.repeatForever(cc.sequence(swingUp, rotate, swingDown, rotate));\n    },\n\n    start () {\n        cc.director.getCollisionManager().enabled = true;\n        \n        this.swingAction = this.setSwingAction()\n        this.node.runAction(this.swingAction)\n    },\n\n    // update (dt) {},\n});\n"]}