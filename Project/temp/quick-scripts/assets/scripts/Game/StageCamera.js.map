{"version":3,"sources":["StageCamera.js"],"names":["cc","Class","extends","Component","properties","MapCamera","type","Camera","default","start","cameraMove","srcx","srcy","dstx","dsty","initRatio","node","x","y","scheduleOnce","schedule","zoomRatio","active"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,mBAAU;AACNC,kBAAMN,GAAGO,MADH;AAENC,qBAAS;AAFH;AADF,KAHP;;AAUL;;AAEA;;AAEAC,SAdK,mBAcI;AACL,aAAKC,UAAL,CAAgB,IAAhB,EAAsB,CAAC,GAAvB,EAA4B,CAAC,CAA7B,EAAgC,CAAC,GAAjC,EAAsC,GAAtC;AACH,KAhBI;;;AAkBLA,gBAAY,oBAASC,IAAT,EAAeC,IAAf,EAAqBC,IAArB,EAA2BC,IAA3B,EAAiCC,SAAjC,EAA2C;AACnD,aAAKV,SAAL,CAAeW,IAAf,CAAoBC,CAApB,GAAwBN,IAAxB;AACA,aAAKN,SAAL,CAAeW,IAAf,CAAoBE,CAApB,GAAwBN,IAAxB;;AAEA,YAAIK,IAAIJ,OAAOF,IAAf;AACA,YAAIO,IAAIJ,OAAOF,IAAf;;AAEA,aAAKO,YAAL,CAAkB,YAAU;AACxB,iBAAKC,QAAL,CAAc,YAAU;AACpB,oBAAG,KAAKf,SAAL,CAAegB,SAAf,GAA2B,CAA9B,EAAgC;AAC5B,yBAAKhB,SAAL,CAAeW,IAAf,CAAoBM,MAApB,GAA6B,KAA7B;AACH,iBAFD,MAGI;AACA,yBAAKjB,SAAL,CAAegB,SAAf,IAA4B,KAA5B;AACA,yBAAKhB,SAAL,CAAeW,IAAf,CAAoBC,CAApB,IAAyBA,IAAI,KAAJ,IAAa,IAAIF,SAAjB,CAAzB;AACA,yBAAKV,SAAL,CAAeW,IAAf,CAAoBE,CAApB,IAAyBA,IAAI,KAAJ,IAAa,IAAIH,SAAjB,CAAzB;AACH;AACJ,aATD,EASG,MATH;AAUH,SAXD,EAWG,GAXH;AAYH;;AAED;AACA;AAxCK,CAAT","file":"StageCamera.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\Game","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        MapCamera:{\r\n            type: cc.Camera,\r\n            default: null\r\n        },\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start () {\r\n        this.cameraMove(2338, -206, -2, -206, 0.3)\r\n    },\r\n\r\n    cameraMove: function(srcx, srcy, dstx, dsty, initRatio){\r\n        this.MapCamera.node.x = srcx\r\n        this.MapCamera.node.y = srcy\r\n\r\n        var x = dstx - srcx\r\n        var y = dsty - srcy\r\n\r\n        this.scheduleOnce(function(){\r\n            this.schedule(function(){\r\n                if(this.MapCamera.zoomRatio > 1){\r\n                    this.MapCamera.node.active = false\r\n                }\r\n                else{    \r\n                    this.MapCamera.zoomRatio += 0.001\r\n                    this.MapCamera.node.x += x * 0.001 / (1 - initRatio)\r\n                    this.MapCamera.node.y += y * 0.001 / (1 - initRatio)\r\n                }\r\n            }, 0.0001)\r\n        }, 0.8)\r\n    }\r\n\r\n    // update (dt) {\r\n    // },\r\n});\r\n"]}