{"version":3,"sources":["StageSelect.js"],"names":["cc","Class","extends","Component","properties","Stage1Btn","type","Button","default","Stage2Btn","Stage3Btn","start","j","cmd","String","eval","i","key","result","JSON","parse","sys","localStorage","getItem","btns","getComponents","btn","interactable","loadScene","director"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,mBAAW;AACPC,kBAAMN,GAAGO,MADF;AAEPC,qBAAS;AAFF,SADH;AAKRC,mBAAW;AACPH,kBAAMN,GAAGO,MADF;AAEPC,qBAAS;AAFF,SALH;AASRE,mBAAW;AACPJ,kBAAMN,GAAGO,MADF;AAEPC,qBAAS;AAFF;AATH,KAHP;;AAkBL;;AAEA;;AAEAG,SAtBK,mBAsBI;AACL,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAI,CAApB,EAAuBA,GAAvB,EAA4B;AACxB,gBAAIC,MAAM,eAAeC,OAAOF,CAAP,CAAf,GAA2B,+CAArC;AACAG,iBAAKF,GAAL;AACH;AACD,YAAIG,CAAJ;AACA,aAAKA,IAAI,CAAT,EAAYA,IAAI,CAAhB,EAAmB,EAAEA,CAArB,EAAwB;AACpB;AACA,gBAAIC,MAAM,UAAUH,OAAOE,CAAP,CAApB;AACA,gBAAIE,SAASC,KAAKC,KAAL,CAAWpB,GAAGqB,GAAH,CAAOC,YAAP,CAAoBC,OAApB,CAA4BN,GAA5B,CAAX,CAAb;AACA,gBAAI,CAACC,MAAL,EAAa;AACT,oBAAIM,OAAO,KAAK,UAAUV,OAAOE,CAAP,CAAV,GAAsB,KAA3B,EAAkCS,aAAlC,CAAgDzB,GAAGO,MAAnD,CAAX;AADS;AAAA;AAAA;;AAAA;AAET,yCAAgBiB,IAAhB,8HAAsB;AAAA,4BAAbE,GAAa;;AAClBA,4BAAIC,YAAJ,GAAmB,KAAnB;AACH;AAJQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKZ;AACJ;AACJ,KAvCI;AAyCLC,aAzCK,qBAyCMZ,CAzCN,EAyCS;AACV,eAAO,YAAY;AACf;AACAhB,eAAG6B,QAAH,CAAYD,SAAZ,CAAsB,UAAUd,OAAOE,CAAP,CAAhC;AACH,SAHD;AAIH;;AAED;;AAhDK,CAAT","file":"StageSelect.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\scripts\\Game","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        Stage1Btn: {\r\n            type: cc.Button,\r\n            default: null\r\n        },\r\n        Stage2Btn: {\r\n            type: cc.Button,\r\n            default: null\r\n        },\r\n        Stage3Btn: {\r\n            type: cc.Button,\r\n            default: null\r\n        }\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start () {\r\n        for (var j = 1; j < 4; j++) {\r\n            var cmd = \"this.Stage\" + String(j) + \"Btn.node.on('click', this.loadScene(j), this)\"\r\n            eval(cmd)\r\n        }\r\n        var i\r\n        for (i = 1; i < 4; ++i) {\r\n            debugger;\r\n            var key = \"Stage\" + String(i)\r\n            var result = JSON.parse(cc.sys.localStorage.getItem(key))\r\n            if (!result) {\r\n                var btns = this['Stage' + String(i) + 'Btn'].getComponents(cc.Button);\r\n                for (var btn of btns) {\r\n                    btn.interactable = false\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n    loadScene (i) {\r\n        return function () {\r\n            debugger\r\n            cc.director.loadScene(\"Stage\" + String(i))\r\n        }\r\n    }\r\n\r\n    // update (dt) {},\r\n});\r\n"]}