{"version":3,"sources":["Gravity.js"],"names":["cc","Class","extends","Component","properties","Player1","type","Node","default","Player2","Equilibrium","Delta","Grav","Step","start","dir","v2","x","y","distance","mag","a","console","log","acce","update","dt","player1","getComponents","player2","speedX","speedY"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,iBAAQ;AACJC,kBAAMN,GAAGO,IADL;AAEJC,qBAAS;AAFL,SADA;;AAMRC,iBAAQ;AACJH,kBAAMN,GAAGO,IADL;AAEJC,qBAAS;AAFL,SANA;;AAWRE,qBAAa,GAXL;AAYRC,eAAO,GAZC;AAaRC,cAAM,CAbE;AAcRC,cAAM;AAdE,KAHP;;AAoBL;;AAEA;;AAEAC,SAxBK,mBAwBI;AACL,aAAKC,GAAL,GAAWf,GAAGgB,EAAH,CAAM,KAAKX,OAAL,CAAaY,CAAb,GAAiB,KAAKR,OAAL,CAAaQ,CAApC,EAAuC,KAAKZ,OAAL,CAAaa,CAAb,GAAiB,KAAKT,OAAL,CAAaS,CAArE,CAAX;AACA,aAAKC,QAAL,GAAgB,KAAKJ,GAAL,CAASK,GAAT,EAAhB;;AAEA,YAAIC,IAAI,KAAKT,IAAL,IAAa,KAAKO,QAAL,GAAgB,KAAKT,WAAlC,CAAR;;AAEAY,gBAAQC,GAAR,CAAY,MAAZ,EAAoB,KAAKX,IAAzB;;AAEA,aAAKY,IAAL,GAAYxB,GAAGgB,EAAH,CAAMK,IAAI,KAAKN,GAAL,CAASE,CAAb,GAAiB,KAAKE,QAA5B,EAAsCE,IAAI,KAAKN,GAAL,CAASG,CAAb,GAAiB,KAAKC,QAA5D,CAAZ;AACH,KAjCI;AAmCLM,UAnCK,kBAmCGC,EAnCH,EAmCO;AACR,aAAKX,GAAL,GAAWf,GAAGgB,EAAH,CAAM,KAAKX,OAAL,CAAaY,CAAb,GAAiB,KAAKR,OAAL,CAAaQ,CAApC,EAAuC,KAAKZ,OAAL,CAAaa,CAAb,GAAiB,KAAKT,OAAL,CAAaS,CAArE,CAAX;AACA,aAAKC,QAAL,GAAgB,KAAKJ,GAAL,CAASK,GAAT,EAAhB;AACA,YAAIC,IAAI,KAAKT,IAAL,IAAa,KAAKO,QAAL,GAAgB,KAAKT,WAAlC,CAAR;AACA,aAAKc,IAAL,GAAYxB,GAAGgB,EAAH,CAAMK,IAAI,KAAKN,GAAL,CAASE,CAAb,GAAiB,KAAKE,QAA5B,EAAsCE,IAAI,KAAKN,GAAL,CAASG,CAAb,GAAiB,KAAKC,QAA5D,CAAZ;;AAEA,YAAIQ,UAAU,KAAKtB,OAAL,CAAauB,aAAb,CAA2B,QAA3B,EAAqC,CAArC,CAAd;AACA,YAAIC,UAAU,KAAKpB,OAAL,CAAamB,aAAb,CAA2B,QAA3B,EAAqC,CAArC,CAAd;;AAEAD,gBAAQG,MAAR,IAAkB,KAAKN,IAAL,CAAUP,CAAV,GAAcS,EAAhC;AACAC,gBAAQI,MAAR,IAAkB,KAAKP,IAAL,CAAUN,CAAV,GAAcQ,EAAhC;;AAEAG,gBAAQC,MAAR,IAAkB,KAAKN,IAAL,CAAUP,CAAV,GAAcS,EAAhC;AACAG,gBAAQE,MAAR,IAAkB,KAAKP,IAAL,CAAUN,CAAV,GAAcQ,EAAhC;AAEH;AAlDI,CAAT","file":"Gravity.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["// Learn cc.Class:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/class.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html\r\n//  - [English] http://docs.cocos2d-x.org/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - [Chinese] https://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html\r\n//  - [English] https://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        Player1:{\r\n            type: cc.Node,\r\n            default: null,\r\n        },\r\n\r\n        Player2:{\r\n            type: cc.Node,\r\n            default: null,\r\n        },\r\n\r\n        Equilibrium: 500,\r\n        Delta: 200,\r\n        Grav: 1,\r\n        Step: 200,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    // onLoad () {},\r\n\r\n    start () {\r\n        this.dir = cc.v2(this.Player1.x - this.Player2.x, this.Player1.y - this.Player2.y)\r\n        this.distance = this.dir.mag()\r\n\r\n        var a = this.Grav * (this.distance - this.Equilibrium)\r\n\r\n        console.log('grav', this.Grav)\r\n\r\n        this.acce = cc.v2(a * this.dir.x / this.distance, a * this.dir.y / this.distance)\r\n    },\r\n\r\n    update (dt) {\r\n        this.dir = cc.v2(this.Player1.x - this.Player2.x, this.Player1.y - this.Player2.y)\r\n        this.distance = this.dir.mag()\r\n        var a = this.Grav * (this.distance - this.Equilibrium)\r\n        this.acce = cc.v2(a * this.dir.x / this.distance, a * this.dir.y / this.distance)\r\n\r\n        var player1 = this.Player1.getComponents(\"Player\")[0];\r\n        var player2 = this.Player2.getComponents(\"Player\")[0];\r\n\r\n        player1.speedX -= this.acce.x * dt\r\n        player1.speedY -= this.acce.y * dt\r\n\r\n        player2.speedX += this.acce.x * dt\r\n        player2.speedY += this.acce.y * dt\r\n        \r\n    },\r\n});\r\n"]}